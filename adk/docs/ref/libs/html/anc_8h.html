<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Libraries: anc/anc.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Libraries
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('anc_8h.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">anc.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Header file for the ANC library.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structanc__mic__params__t.html">anc_mic_params_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The ANC Microphones to be used by the library.  <a href="structanc__mic__params__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa547167fedee0eac3492ecc417b66219"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="anc_8h.html#aa547167fedee0eac3492ecc417b66219">AncCycleFineTuneGain</a> (void)</td></tr>
<tr class="memdesc:aa547167fedee0eac3492ecc417b66219"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cycle through fine tune gains based on step size configured. If the ANC functionality is enabled then the fine tune gain will be applied immediately otherwise it will be ignored.  <a href="#aa547167fedee0eac3492ecc417b66219">More...</a><br /></td></tr>
<tr class="separator:aa547167fedee0eac3492ecc417b66219"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a124f6719fc95e7a6b262e4863f09b999"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="anc_8h.html#a124f6719fc95e7a6b262e4863f09b999">AncEnable</a> (bool enable)</td></tr>
<tr class="memdesc:a124f6719fc95e7a6b262e4863f09b999"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable or Disable the ANC functionality. If enabled then the ANC will start operating in the last set ANC mode. To ensure no audio artefacts, the ANC functionality should not be enabled or disabled while audio is being routed to the DACs.  <a href="#a124f6719fc95e7a6b262e4863f09b999">More...</a><br /></td></tr>
<tr class="separator:a124f6719fc95e7a6b262e4863f09b999"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a146dbaf7641e8a42effb6337ef959034"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structanc__mic__params__t.html">anc_mic_params_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="anc_8h.html#a146dbaf7641e8a42effb6337ef959034">AncGetAncMicParams</a> (void)</td></tr>
<tr class="memdesc:a146dbaf7641e8a42effb6337ef959034"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current ANC mic config.  <a href="#a146dbaf7641e8a42effb6337ef959034">More...</a><br /></td></tr>
<tr class="separator:a146dbaf7641e8a42effb6337ef959034"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a156cb7ce5b9303fe38190d7cbe6d3cde"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="anc_8h.html#a156cb7ce5b9303fe38190d7cbe6d3cde">AncInit</a> (<a class="el" href="structanc__mic__params__t.html">anc_mic_params_t</a> *mic_params, <a class="el" href="anc_8h.html#a0da818da876ac9f57705d336ea5d98d8">anc_mode_t</a> init_mode, unsigned init_gain)</td></tr>
<tr class="memdesc:a156cb7ce5b9303fe38190d7cbe6d3cde"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise the ANC library. This function must be called, and return indicating success, before any of the other library API functions can be called.  <a href="#a156cb7ce5b9303fe38190d7cbe6d3cde">More...</a><br /></td></tr>
<tr class="separator:a156cb7ce5b9303fe38190d7cbe6d3cde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa70d3fd7d9056f7186b75cc47e96dd96"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="anc_8h.html#aa70d3fd7d9056f7186b75cc47e96dd96">AncIsAudioDisconnectRequiredOnStateChange</a> (void)</td></tr>
<tr class="memdesc:aa70d3fd7d9056f7186b75cc47e96dd96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if audio disconnection on ANC state change is required.  <a href="#aa70d3fd7d9056f7186b75cc47e96dd96">More...</a><br /></td></tr>
<tr class="separator:aa70d3fd7d9056f7186b75cc47e96dd96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bf13870b815ab6979bed9cb0706d26a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="anc_8h.html#a6bf13870b815ab6979bed9cb0706d26a">AncIsEnabled</a> (void)</td></tr>
<tr class="memdesc:a6bf13870b815ab6979bed9cb0706d26a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query the current state of the ANC functionality.  <a href="#a6bf13870b815ab6979bed9cb0706d26a">More...</a><br /></td></tr>
<tr class="separator:a6bf13870b815ab6979bed9cb0706d26a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52288657648b5d2794ad8adafbd6f8e1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="anc_8h.html#a52288657648b5d2794ad8adafbd6f8e1">AncLibraryTestReset</a> (void)</td></tr>
<tr class="memdesc:a52288657648b5d2794ad8adafbd6f8e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">free the memory allocated for the ANC library data.  <a href="#a52288657648b5d2794ad8adafbd6f8e1">More...</a><br /></td></tr>
<tr class="separator:a52288657648b5d2794ad8adafbd6f8e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d762a7a051bcb8e828da3cd88a99b97"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="anc_8h.html#a1d762a7a051bcb8e828da3cd88a99b97">AncSetMode</a> (<a class="el" href="anc_8h.html#a0da818da876ac9f57705d336ea5d98d8">anc_mode_t</a> mode)</td></tr>
<tr class="memdesc:a1d762a7a051bcb8e828da3cd88a99b97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the ANC operating mode. To ensure no audio artefacts, the ANC mode should not be changed while audio is being routed to the DACs.  <a href="#a1d762a7a051bcb8e828da3cd88a99b97">More...</a><br /></td></tr>
<tr class="separator:a1d762a7a051bcb8e828da3cd88a99b97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb30bf1e22e36814535387d59ecdf052"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="anc_8h.html#afb30bf1e22e36814535387d59ecdf052">AncSetSidetoneGain</a> (uint16 gain)</td></tr>
<tr class="memdesc:afb30bf1e22e36814535387d59ecdf052"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the ANC sidetone gain. The ANC sidetone gain must not be less than ANC_SIDETONE_GAIN_MIN or greater than ANC_SIDETONE_GAIN_MAX. If the ANC functionality is enabled then the ANC sidetone gain will be applied immediately otherwise it will be applied the next time ANC is enabled.  <a href="#afb30bf1e22e36814535387d59ecdf052">More...</a><br /></td></tr>
<tr class="separator:afb30bf1e22e36814535387d59ecdf052"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Header file for the ANC library. </p>
<p>This file provides documentation for the ANC library API. </p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a0da818da876ac9f57705d336ea5d98d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="anc_8h.html#a0da818da876ac9f57705d336ea5d98d8">anc_mode_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The ANC Mode of operation when ANC functionality is enabled. </p>
<p>Used by the VM application to set different ANC modes and also get the current mode of operation. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aa547167fedee0eac3492ecc417b66219"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool AncCycleFineTuneGain </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cycle through fine tune gains based on step size configured. If the ANC functionality is enabled then the fine tune gain will be applied immediately otherwise it will be ignored. </p>
<dl class="section return"><dt>Returns</dt><dd>TRUE indicating the fine tune gain was successfully changed otherwise FALSE. </dd></dl>

</div>
</div>
<a class="anchor" id="a124f6719fc95e7a6b262e4863f09b999"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool AncEnable </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable or Disable the ANC functionality. If enabled then the ANC will start operating in the last set ANC mode. To ensure no audio artefacts, the ANC functionality should not be enabled or disabled while audio is being routed to the DACs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mic_params</td><td>The microphones to use for ANC functionality.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE indicating ANC was successfully enabled or disabled otherwise FALSE. </dd></dl>

</div>
</div>
<a class="anchor" id="a146dbaf7641e8a42effb6337ef959034"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structanc__mic__params__t.html">anc_mic_params_t</a>* AncGetAncMicParams </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current ANC mic config. </p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to current <a class="el" href="structanc__mic__params__t.html" title="The ANC Microphones to be used by the library. ">anc_mic_params_t</a> stored in the ANC library </dd></dl>

</div>
</div>
<a class="anchor" id="a156cb7ce5b9303fe38190d7cbe6d3cde"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool AncInit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structanc__mic__params__t.html">anc_mic_params_t</a> *&#160;</td>
          <td class="paramname"><em>mic_params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="anc_8h.html#a0da818da876ac9f57705d336ea5d98d8">anc_mode_t</a>&#160;</td>
          <td class="paramname"><em>init_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>init_gain</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise the ANC library. This function must be called, and return indicating success, before any of the other library API functions can be called. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mic_params</td><td>The microphones to use for ANC functionality. </td></tr>
    <tr><td class="paramname">init_mode</td><td>The ANC mode at initialisation </td></tr>
    <tr><td class="paramname">init_gain</td><td>The gain at initialisation</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE indicating the library was successfully initialised otherwise FALSE. </dd></dl>

</div>
</div>
<a class="anchor" id="aa70d3fd7d9056f7186b75cc47e96dd96"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool AncIsAudioDisconnectRequiredOnStateChange </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if audio disconnection on ANC state change is required. </p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if audio disconnection is required, otherwise FALSE. </dd></dl>

</div>
</div>
<a class="anchor" id="a6bf13870b815ab6979bed9cb0706d26a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool AncIsEnabled </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Query the current state of the ANC functionality. </p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if ANC is currently enabled otherwise FALSE. </dd></dl>

</div>
</div>
<a class="anchor" id="a52288657648b5d2794ad8adafbd6f8e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool AncLibraryTestReset </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>free the memory allocated for the ANC library data. </p>
<dl class="section return"><dt>Returns</dt><dd>TRUE indicating the memory allocated for library was successfully freed doesn't return FALSE. </dd></dl>

</div>
</div>
<a class="anchor" id="a1d762a7a051bcb8e828da3cd88a99b97"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool AncSetMode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="anc_8h.html#a0da818da876ac9f57705d336ea5d98d8">anc_mode_t</a>&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the ANC operating mode. To ensure no audio artefacts, the ANC mode should not be changed while audio is being routed to the DACs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">anc_mode_t</td><td>The ANC mode to set.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE indicating the ANC mode was successfully changed otherwise FALSE. </dd></dl>

</div>
</div>
<a class="anchor" id="afb30bf1e22e36814535387d59ecdf052"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool AncSetSidetoneGain </td>
          <td>(</td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>gain</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the ANC sidetone gain. The ANC sidetone gain must not be less than ANC_SIDETONE_GAIN_MIN or greater than ANC_SIDETONE_GAIN_MAX. If the ANC functionality is enabled then the ANC sidetone gain will be applied immediately otherwise it will be applied the next time ANC is enabled. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gain</td><td>The ANC sidetone gain to set.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE indicating the ANC sidetone gain was successfully changed otherwise FALSE. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_e8075049c18a3b302d5a1013a0df67a2.html">anc</a></li><li class="navelem"><a class="el" href="anc_8h.html">anc.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
