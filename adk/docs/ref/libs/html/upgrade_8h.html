<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Libraries: upgrade/upgrade.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Libraries
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('upgrade_8h.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">upgrade.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Header file for the Upgrade library.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_p_g_r_a_d_e___e_n_d___d_a_t_a___i_n_d___t.html">UPGRADE_END_DATA_IND_T</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message indicating end of Upgrade download state.  <a href="struct_u_p_g_r_a_d_e___e_n_d___d_a_t_a___i_n_d___t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_p_g_r_a_d_e___i_n_i_t___c_f_m___t.html">UPGRADE_INIT_CFM_T</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definition of the message sent in response to <a class="el" href="upgrade_8h.html#aec364b8dbc5e46efa566d36a9ee7bb89" title="Initialise the Upgrade library. ">UpgradeInit()</a>.  <a href="struct_u_p_g_r_a_d_e___i_n_i_t___c_f_m___t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_p_g_r_a_d_e___p_e_e_r___c_o_n_n_e_c_t___s_t_a_t_u_s___t.html">UPGRADE_PEER_CONNECT_STATUS_T</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definition of the UPGRADE_PEER_CONNECT_CFM message sent for connect status.  <a href="struct_u_p_g_r_a_d_e___p_e_e_r___c_o_n_n_e_c_t___s_t_a_t_u_s___t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_p_g_r_a_d_e___p_e_e_r___d_a_t_a___i_n_d___t.html">UPGRADE_PEER_DATA_IND_T</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definition of the message sent to a application to send a data to a client.  <a href="struct_u_p_g_r_a_d_e___p_e_e_r___d_a_t_a___i_n_d___t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_p_g_r_a_d_e___r_e_s_t_a_r_t_e_d___i_n_d___t.html">UPGRADE_RESTARTED_IND_T</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definition of message that may be sent as a result of <a class="el" href="upgrade_8h.html#aec364b8dbc5e46efa566d36a9ee7bb89" title="Initialise the Upgrade library. ">UpgradeInit()</a> being called.  <a href="struct_u_p_g_r_a_d_e___r_e_s_t_a_r_t_e_d___i_n_d___t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_p_g_r_a_d_e___s_t_a_t_u_s___i_n_d___t.html">UPGRADE_STATUS_IND_T</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message indicating change in state of the upgrade library.  <a href="struct_u_p_g_r_a_d_e___s_t_a_t_u_s___i_n_d___t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_p_g_r_a_d_e___t_r_a_n_s_p_o_r_t___c_o_n_n_e_c_t___c_f_m___t.html">UPGRADE_TRANSPORT_CONNECT_CFM_T</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definition of the message sent in response to <a class="el" href="upgrade_8h.html#a5cd29e0a1b37cd7e81722a47bbf880c5" title="Connect a transport to the Upgrade library. ">UpgradeTransportConnectRequest()</a>.  <a href="struct_u_p_g_r_a_d_e___t_r_a_n_s_p_o_r_t___c_o_n_n_e_c_t___c_f_m___t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_p_g_r_a_d_e___t_r_a_n_s_p_o_r_t___d_a_t_a___c_f_m___t.html">UPGRADE_TRANSPORT_DATA_CFM_T</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definition of the message sent in response to <a class="el" href="upgrade_8h.html#a7e6e5dcd93dcb19474939f5fb7b32517" title="Pass a data packet from a client to the Upgrade library. ">UpgradeProcessDataRequest()</a>.  <a href="struct_u_p_g_r_a_d_e___t_r_a_n_s_p_o_r_t___d_a_t_a___c_f_m___t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_p_g_r_a_d_e___t_r_a_n_s_p_o_r_t___d_a_t_a___i_n_d___t.html">UPGRADE_TRANSPORT_DATA_IND_T</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definition of the message sent to a transport to send a data packet to a client.  <a href="struct_u_p_g_r_a_d_e___t_r_a_n_s_p_o_r_t___d_a_t_a___i_n_d___t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_p_g_r_a_d_e___t_r_a_n_s_p_o_r_t___d_i_s_c_o_n_n_e_c_t___c_f_m___t.html">UPGRADE_TRANSPORT_DISCONNECT_CFM_T</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definition of the message sent in response to <a class="el" href="upgrade_8h.html#a91f2bcad38ebf0c7a1b4744a6f933ed2" title="Disconnect a transport from the Upgrade library. ">UpgradeTransportDisconnectRequest()</a>.  <a href="struct_u_p_g_r_a_d_e___t_r_a_n_s_p_o_r_t___d_i_s_c_o_n_n_e_c_t___c_f_m___t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_p_g_r_a_d_e___u_p_g_r_a_d_a_b_l_e___p_a_r_t_i_t_i_o_n___t.html">UPGRADE_UPGRADABLE_PARTITION_T</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Element defining the physical partitions in flash that apply to this logical partition.  <a href="struct_u_p_g_r_a_d_e___u_p_g_r_a_d_a_b_l_e___p_a_r_t_i_t_i_o_n___t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structupgrade__version.html">upgrade_version</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A {major, minor} pair defines an upgrade version.  <a href="structupgrade__version.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad5f154b94c2c3ec8c1b3b5e35dc0c1bc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#ad5f154b94c2c3ec8c1b3b5e35dc0c1bc">UpgradeApplicationValidationStatus</a> (bool pass)</td></tr>
<tr class="memdesc:ad5f154b94c2c3ec8c1b3b5e35dc0c1bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inform the Upgrade library of an application partition validation result.  <a href="#ad5f154b94c2c3ec8c1b3b5e35dc0c1bc">More...</a><br /></td></tr>
<tr class="separator:ad5f154b94c2c3ec8c1b3b5e35dc0c1bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49d82a07d5c4737a30f0043367d112c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#a49d82a07d5c4737a30f0043367d112c5">UpgradeApplyAudioCopyFailed</a> (void)</td></tr>
<tr class="memdesc:a49d82a07d5c4737a30f0043367d112c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Control unblocking the audio if the audio image fails to copy.  <a href="#a49d82a07d5c4737a30f0043367d112c5">More...</a><br /></td></tr>
<tr class="separator:a49d82a07d5c4737a30f0043367d112c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a302f35cc3c99966669ab19c51de7e59a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#a302f35cc3c99966669ab19c51de7e59a">UpgradeApplyAudioShutDown</a> (void)</td></tr>
<tr class="memdesc:a302f35cc3c99966669ab19c51de7e59a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Control audio shutdown in order to copy the audio image.  <a href="#a302f35cc3c99966669ab19c51de7e59a">More...</a><br /></td></tr>
<tr class="separator:a302f35cc3c99966669ab19c51de7e59a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63ef8f910494039ea79473e5ec160130"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#a63ef8f910494039ea79473e5ec160130">UpgradeApplyResponse</a> (uint32 postpone)</td></tr>
<tr class="memdesc:a63ef8f910494039ea79473e5ec160130"><td class="mdescLeft">&#160;</td><td class="mdescRight">Control reboot of device in interactive mode.  <a href="#a63ef8f910494039ea79473e5ec160130">More...</a><br /></td></tr>
<tr class="separator:a63ef8f910494039ea79473e5ec160130"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85954f0cfb18ebe7d8c2953b9f4b461d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#a85954f0cfb18ebe7d8c2953b9f4b461d">UpgradeBlockingResponse</a> (uint32 postpone)</td></tr>
<tr class="memdesc:a85954f0cfb18ebe7d8c2953b9f4b461d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Control blocking of the system in interactive mode.  <a href="#a85954f0cfb18ebe7d8c2953b9f4b461d">More...</a><br /></td></tr>
<tr class="separator:a85954f0cfb18ebe7d8c2953b9f4b461d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90403b2de739685986b340104973df73"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#a90403b2de739685986b340104973df73">UpgradeCommitMsgFromUpgradePeer</a> (void)</td></tr>
<tr class="memdesc:a90403b2de739685986b340104973df73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Commit Request from UpgradePeer.  <a href="#a90403b2de739685986b340104973df73">More...</a><br /></td></tr>
<tr class="separator:a90403b2de739685986b340104973df73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab238dec05b4631e44f03f15fcab457a1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#ab238dec05b4631e44f03f15fcab457a1">UpgradeCopyAudioImage</a> (void)</td></tr>
<tr class="memdesc:ab238dec05b4631e44f03f15fcab457a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Control blocking any new audio and makes the call for the audio image copy.  <a href="#ab238dec05b4631e44f03f15fcab457a1">More...</a><br /></td></tr>
<tr class="separator:ab238dec05b4631e44f03f15fcab457a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f8aeb74c3b3282817de46216988605f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#a8f8aeb74c3b3282817de46216988605f">UpgradeCopyAudioStatus</a> (Message message)</td></tr>
<tr class="memdesc:a8f8aeb74c3b3282817de46216988605f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inform the Upgrade library of the result an attempt copy Audio SQIF.  <a href="#a8f8aeb74c3b3282817de46216988605f">More...</a><br /></td></tr>
<tr class="separator:a8f8aeb74c3b3282817de46216988605f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9b09071a6ec28b9a246d2e79b064a28"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#ac9b09071a6ec28b9a246d2e79b064a28">UpgradeCopyStatus</a> (Message message)</td></tr>
<tr class="memdesc:ac9b09071a6ec28b9a246d2e79b064a28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inform the Upgrade library of the result an attempt copy SQIF.  <a href="#ac9b09071a6ec28b9a246d2e79b064a28">More...</a><br /></td></tr>
<tr class="separator:ac9b09071a6ec28b9a246d2e79b064a28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f444b2f45408df14b98867e1b53153c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#a3f444b2f45408df14b98867e1b53153c">UpgradeDfuStatus</a> (MessageDFUFromSQifStatus *message)</td></tr>
<tr class="memdesc:a3f444b2f45408df14b98867e1b53153c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inform the Upgrade library of the result an attempt to perform DFU from serial flash.  <a href="#a3f444b2f45408df14b98867e1b53153c">More...</a><br /></td></tr>
<tr class="separator:a3f444b2f45408df14b98867e1b53153c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6b52ddf3c947781361f123db9c95c34"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#ae6b52ddf3c947781361f123db9c95c34">UpgradeEraseStatus</a> (Message message)</td></tr>
<tr class="memdesc:ae6b52ddf3c947781361f123db9c95c34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inform the Upgrade library of the result an attempt erase SQIF.  <a href="#ae6b52ddf3c947781361f123db9c95c34">More...</a><br /></td></tr>
<tr class="separator:ae6b52ddf3c947781361f123db9c95c34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1326808f875182e968cb05041c6dce9e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#a1326808f875182e968cb05041c6dce9e">UpgradeErrorMsgFromUpgradePeer</a> (uint16 error)</td></tr>
<tr class="memdesc:a1326808f875182e968cb05041c6dce9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle error message from UpgradePeer.  <a href="#a1326808f875182e968cb05041c6dce9e">More...</a><br /></td></tr>
<tr class="separator:a1326808f875182e968cb05041c6dce9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae282724d8a3cb39db39637b990e9318d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#ae282724d8a3cb39db39637b990e9318d">UpgradeGetInProgressVersion</a> (uint16 *major, uint16 *minor, uint16 *config)</td></tr>
<tr class="memdesc:ae282724d8a3cb39db39637b990e9318d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the "in progress" version information from the upgrade library.  <a href="#ae282724d8a3cb39db39637b990e9318d">More...</a><br /></td></tr>
<tr class="separator:ae282724d8a3cb39db39637b990e9318d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6caf9855fa2ece36a87725a03a268b52"><td class="memItemLeft" align="right" valign="top">uint16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#a6caf9855fa2ece36a87725a03a268b52">UpgradeGetPartitionInUse</a> (uint16 logicalPartition)</td></tr>
<tr class="memdesc:a6caf9855fa2ece36a87725a03a268b52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find out current physical partition for a logical partion.  <a href="#a6caf9855fa2ece36a87725a03a268b52">More...</a><br /></td></tr>
<tr class="separator:a6caf9855fa2ece36a87725a03a268b52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99df3ca1f7ba78a11194f158ffa4f7b5"><td class="memItemLeft" align="right" valign="top">uint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#a99df3ca1f7ba78a11194f158ffa4f7b5">UpgradeGetPartitionSizeInPartitionDataState</a> (void)</td></tr>
<tr class="memdesc:a99df3ca1f7ba78a11194f158ffa4f7b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">To fetch the partition size when in UPGRADE_PARTITION_DATA_STATE_DATA.  <a href="#a99df3ca1f7ba78a11194f158ffa4f7b5">More...</a><br /></td></tr>
<tr class="separator:a99df3ca1f7ba78a11194f158ffa4f7b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a995e2c5cd2d544472ab2c60e2183ddce"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#a995e2c5cd2d544472ab2c60e2183ddce">UpgradeGetVersion</a> (uint16 *major, uint16 *minor, uint16 *config)</td></tr>
<tr class="memdesc:a995e2c5cd2d544472ab2c60e2183ddce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the version information from the upgrade library.  <a href="#a995e2c5cd2d544472ab2c60e2183ddce">More...</a><br /></td></tr>
<tr class="separator:a995e2c5cd2d544472ab2c60e2183ddce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fede515626ae660a7ac6429e7b3d214"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#a0fede515626ae660a7ac6429e7b3d214">UpgradeHandleMsg</a> (Task task, MessageId id, Message message)</td></tr>
<tr class="memdesc:a0fede515626ae660a7ac6429e7b3d214"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main message handler for the upgrade library.  <a href="#a0fede515626ae660a7ac6429e7b3d214">More...</a><br /></td></tr>
<tr class="separator:a0fede515626ae660a7ac6429e7b3d214"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ccc0ccc77d79bfa0d06338889429388"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#a5ccc0ccc77d79bfa0d06338889429388">UpgradeImageSwap</a> (void)</td></tr>
<tr class="memdesc:a5ccc0ccc77d79bfa0d06338889429388"><td class="mdescLeft">&#160;</td><td class="mdescRight">To inform Upgrade library to reset the chip and swap to the Upgraded Image.  <a href="#a5ccc0ccc77d79bfa0d06338889429388">More...</a><br /></td></tr>
<tr class="separator:a5ccc0ccc77d79bfa0d06338889429388"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec364b8dbc5e46efa566d36a9ee7bb89"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#aec364b8dbc5e46efa566d36a9ee7bb89">UpgradeInit</a> (Task appTask, uint16 dataPskey, uint16 dataPskeyStart, const <a class="el" href="struct_u_p_g_r_a_d_e___u_p_g_r_a_d_a_b_l_e___p_a_r_t_i_t_i_o_n___t.html">UPGRADE_UPGRADABLE_PARTITION_T</a> *logicalPartitions, uint16 numPartitions, <a class="el" href="upgrade_8h.html#abefdb7759810ea490f6e1f78c7989e5b">upgrade_power_management_t</a> power_mode, const char *dev_variant, <a class="el" href="upgrade_8h.html#aaac5b24e409e269fdb8e330611d5d99e">upgrade_permission_t</a> init_perm, const <a class="el" href="structupgrade__version.html">upgrade_version</a> *init_version, uint16 init_config_version)</td></tr>
<tr class="memdesc:aec364b8dbc5e46efa566d36a9ee7bb89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise the Upgrade library.  <a href="#aec364b8dbc5e46efa566d36a9ee7bb89">More...</a><br /></td></tr>
<tr class="separator:aec364b8dbc5e46efa566d36a9ee7bb89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac68554dea2474dd9f134bf6f06153704"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#ac68554dea2474dd9f134bf6f06153704">UpgradeIsDataTransferMode</a> (void)</td></tr>
<tr class="memdesc:ac68554dea2474dd9f134bf6f06153704"><td class="mdescLeft">&#160;</td><td class="mdescRight">To check if the upgrade state is in Data transfer mode.  <a href="#ac68554dea2474dd9f134bf6f06153704">More...</a><br /></td></tr>
<tr class="separator:ac68554dea2474dd9f134bf6f06153704"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6a56d62c9c037cb116148d28afb7369"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#ab6a56d62c9c037cb116148d28afb7369">UpgradeIsInitialised</a> (void)</td></tr>
<tr class="memdesc:ab6a56d62c9c037cb116148d28afb7369"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query if Upgrade library has been initialised.  <a href="#ab6a56d62c9c037cb116148d28afb7369">More...</a><br /></td></tr>
<tr class="separator:ab6a56d62c9c037cb116148d28afb7369"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e05e1a5b765adcda8afe363c0848bbc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#a6e05e1a5b765adcda8afe363c0848bbc">UpgradeIsPartitionDataState</a> (void)</td></tr>
<tr class="memdesc:a6e05e1a5b765adcda8afe363c0848bbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">To check if the upgrade lib is in UPGRADE_PARTITION_DATA_STATE_DATA.  <a href="#a6e05e1a5b765adcda8afe363c0848bbc">More...</a><br /></td></tr>
<tr class="separator:a6e05e1a5b765adcda8afe363c0848bbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d1141f9fe996144013c345e8fd4034e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#a3d1141f9fe996144013c345e8fd4034e">UpgradeIsRunningNewImage</a> (void)</td></tr>
<tr class="memdesc:a3d1141f9fe996144013c345e8fd4034e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an indication of whether the device has rebooted for an upgrade.  <a href="#a3d1141f9fe996144013c345e8fd4034e">More...</a><br /></td></tr>
<tr class="separator:a3d1141f9fe996144013c345e8fd4034e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5488f6db5bb885955cbb7ed83cd7b68"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#aa5488f6db5bb885955cbb7ed83cd7b68">UpgradePartialUpdateInterrupted</a> (void)</td></tr>
<tr class="memdesc:aa5488f6db5bb885955cbb7ed83cd7b68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an indication of whether a partial upgrade has been interrupted.  <a href="#aa5488f6db5bb885955cbb7ed83cd7b68">More...</a><br /></td></tr>
<tr class="separator:aa5488f6db5bb885955cbb7ed83cd7b68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6102caca3d953af7bc44cddaa3356e25"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6102caca3d953af7bc44cddaa3356e25"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#a6102caca3d953af7bc44cddaa3356e25">UpgradePeerDeInit</a> (void)</td></tr>
<tr class="memdesc:a6102caca3d953af7bc44cddaa3356e25"><td class="mdescLeft">&#160;</td><td class="mdescRight">UnInitialise the Upgrade Peer library. Returns None. <br /></td></tr>
<tr class="separator:a6102caca3d953af7bc44cddaa3356e25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e37d1b8435fe9fa9de6fb35fe88ee36"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#a9e37d1b8435fe9fa9de6fb35fe88ee36">UpgradePeerInit</a> (Task appTask, uint16 dataPskey, uint16 dataPskeyStart)</td></tr>
<tr class="memdesc:a9e37d1b8435fe9fa9de6fb35fe88ee36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise the Upgrade Peer library.  <a href="#a9e37d1b8435fe9fa9de6fb35fe88ee36">More...</a><br /></td></tr>
<tr class="separator:a9e37d1b8435fe9fa9de6fb35fe88ee36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a3366bf53375ca20af5a785066237c8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#a7a3366bf53375ca20af5a785066237c8">UpgradePeerIsPrimaryDevice</a> (void)</td></tr>
<tr class="memdesc:a7a3366bf53375ca20af5a785066237c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if this device initiated the DFU .  <a href="#a7a3366bf53375ca20af5a785066237c8">More...</a><br /></td></tr>
<tr class="separator:a7a3366bf53375ca20af5a785066237c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67920e947e99657a9e62b54e407b024b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a67920e947e99657a9e62b54e407b024b"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#a67920e947e99657a9e62b54e407b024b">UpgradePeerIsSupported</a> (void)</td></tr>
<tr class="memdesc:a67920e947e99657a9e62b54e407b024b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check in Upgrade Peer is initialized or not. Returns None. <br /></td></tr>
<tr class="separator:a67920e947e99657a9e62b54e407b024b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fc3347d844d16614f4250c394f081db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#a1fc3347d844d16614f4250c394f081db">UpgradePeerProcessDataRequest</a> (<a class="el" href="upgrade_8h.html#a5c92ea9010911c80c4075b0b70176887">upgrade_peer_app_msg_t</a> iD, uint8 *data, uint16 dataSize)</td></tr>
<tr class="memdesc:a1fc3347d844d16614f4250c394f081db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle data request from APP.  <a href="#a1fc3347d844d16614f4250c394f081db">More...</a><br /></td></tr>
<tr class="separator:a1fc3347d844d16614f4250c394f081db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd8d6a02d3b94ea6f09c71f25532c08a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#acd8d6a02d3b94ea6f09c71f25532c08a">UpgradePeerSetDeviceRole</a> (bool is_primary)</td></tr>
<tr class="memdesc:acd8d6a02d3b94ea6f09c71f25532c08a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Applciation calls this API to declare that device role is primary.  <a href="#acd8d6a02d3b94ea6f09c71f25532c08a">More...</a><br /></td></tr>
<tr class="separator:acd8d6a02d3b94ea6f09c71f25532c08a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72f67343ee4a883452c9bc5c393331f5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#a72f67343ee4a883452c9bc5c393331f5">UpgradePeerStoreMd5</a> (uint32 md5)</td></tr>
<tr class="memdesc:a72f67343ee4a883452c9bc5c393331f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store MD5 for DFU file for peer device.  <a href="#a72f67343ee4a883452c9bc5c393331f5">More...</a><br /></td></tr>
<tr class="separator:a72f67343ee4a883452c9bc5c393331f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed19938f426cdd9bc4b6bd21659f4788"><td class="memItemLeft" align="right" valign="top"><a class="el" href="upgrade_8h.html#afb3e52d5bdfde3eb77f620f5b52c2e4a">upgrade_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#aed19938f426cdd9bc4b6bd21659f4788">UpgradePermit</a> (<a class="el" href="upgrade_8h.html#aaac5b24e409e269fdb8e330611d5d99e">upgrade_permission_t</a> perm)</td></tr>
<tr class="memdesc:aed19938f426cdd9bc4b6bd21659f4788"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specify the type of permission which the upgrade has to perform upgrade operations.  <a href="#aed19938f426cdd9bc4b6bd21659f4788">More...</a><br /></td></tr>
<tr class="separator:aed19938f426cdd9bc4b6bd21659f4788"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a502daf85950dce67003154f8b34265c7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="upgrade_8h.html#afb3e52d5bdfde3eb77f620f5b52c2e4a">upgrade_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#a502daf85950dce67003154f8b34265c7">UpgradePowerManagementSetState</a> (<a class="el" href="upgrade_8h.html#af7acfcc0e02d33de311a7dfe9829cfad">upgrade_power_state_t</a> state)</td></tr>
<tr class="memdesc:a502daf85950dce67003154f8b34265c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receives the current state of the power management from the Sink App.  <a href="#a502daf85950dce67003154f8b34265c7">More...</a><br /></td></tr>
<tr class="separator:a502daf85950dce67003154f8b34265c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e6e5dcd93dcb19474939f5fb7b32517"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#a7e6e5dcd93dcb19474939f5fb7b32517">UpgradeProcessDataRequest</a> (uint16 size_data, uint8 *data)</td></tr>
<tr class="memdesc:a7e6e5dcd93dcb19474939f5fb7b32517"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pass a data packet from a client to the Upgrade library.  <a href="#a7e6e5dcd93dcb19474939f5fb7b32517">More...</a><br /></td></tr>
<tr class="separator:a7e6e5dcd93dcb19474939f5fb7b32517"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ba1f74e821624f30338cb2ba4e5d62c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#a6ba1f74e821624f30338cb2ba4e5d62c">UpgradeRunningNewApplication</a> (uint16 dataPskey, uint16 dataPskeyStart)</td></tr>
<tr class="memdesc:a6ba1f74e821624f30338cb2ba4e5d62c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query the upgrade library to see if we are part way through an upgrade.  <a href="#a6ba1f74e821624f30338cb2ba4e5d62c">More...</a><br /></td></tr>
<tr class="separator:a6ba1f74e821624f30338cb2ba4e5d62c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad50b6d9fe0ada1e8ef636fb12b97c45a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#ad50b6d9fe0ada1e8ef636fb12b97c45a">UpgradeSendEndUpgradeDataInd</a> (<a class="el" href="upgrade_8h.html#af86630dd732d61e155885863c4f061e2">upgrade_end_state_t</a> state)</td></tr>
<tr class="memdesc:ad50b6d9fe0ada1e8ef636fb12b97c45a"><td class="mdescLeft">&#160;</td><td class="mdescRight">To inform vm app that downloading of upgrade data from host app has ended.  <a href="#ad50b6d9fe0ada1e8ef636fb12b97c45a">More...</a><br /></td></tr>
<tr class="separator:ad50b6d9fe0ada1e8ef636fb12b97c45a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ec70bcf69ed62cda002242f7613a5b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#a7ec70bcf69ed62cda002242f7613a5b5">UpgradeSendStartUpgradeDataInd</a> (void)</td></tr>
<tr class="memdesc:a7ec70bcf69ed62cda002242f7613a5b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">To inform vm app that downloading of upgrade data from host app has begun.  <a href="#a7ec70bcf69ed62cda002242f7613a5b5">More...</a><br /></td></tr>
<tr class="separator:a7ec70bcf69ed62cda002242f7613a5b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad19bbf1f919499fcfa44820ac01125c6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#ad19bbf1f919499fcfa44820ac01125c6">UpgradeSetPartitionDataBlockSize</a> (uint32 size)</td></tr>
<tr class="memdesc:ad19bbf1f919499fcfa44820ac01125c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">To set the partition data block size which the upgrade lib could expect from its transport.  <a href="#ad19bbf1f919499fcfa44820ac01125c6">More...</a><br /></td></tr>
<tr class="separator:ad19bbf1f919499fcfa44820ac01125c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cd29e0a1b37cd7e81722a47bbf880c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#a5cd29e0a1b37cd7e81722a47bbf880c5">UpgradeTransportConnectRequest</a> (Task transportTask, bool need_data_cfm, bool request_multiple_blocks)</td></tr>
<tr class="memdesc:a5cd29e0a1b37cd7e81722a47bbf880c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect a transport to the Upgrade library.  <a href="#a5cd29e0a1b37cd7e81722a47bbf880c5">More...</a><br /></td></tr>
<tr class="separator:a5cd29e0a1b37cd7e81722a47bbf880c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91f2bcad38ebf0c7a1b4744a6f933ed2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#a91f2bcad38ebf0c7a1b4744a6f933ed2">UpgradeTransportDisconnectRequest</a> (void)</td></tr>
<tr class="memdesc:a91f2bcad38ebf0c7a1b4744a6f933ed2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnect a transport from the Upgrade library.  <a href="#a91f2bcad38ebf0c7a1b4744a6f933ed2">More...</a><br /></td></tr>
<tr class="separator:a91f2bcad38ebf0c7a1b4744a6f933ed2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56331143e13abae1d18c6e68eb3e64c0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="upgrade_8h.html#a56331143e13abae1d18c6e68eb3e64c0">UpgradeTransportInUse</a> (void)</td></tr>
<tr class="memdesc:a56331143e13abae1d18c6e68eb3e64c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query if Upgrade library has a transport connected.  <a href="#a56331143e13abae1d18c6e68eb3e64c0">More...</a><br /></td></tr>
<tr class="separator:a56331143e13abae1d18c6e68eb3e64c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Header file for the Upgrade library. </p>
<p>Interface to the Upgrade library which provides support for upgrading CSR device software, using the VM Upgrade mechanism.</p>
<p>The library exposes a functional downstream API and an upstream message based API.</p>
<p>See <a class="el" href="otau_library.html">Upgrade library integration</a> </p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="abca8081d155a70bbaec4f4eb8aa43ff8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="upgrade_8h.html#abca8081d155a70bbaec4f4eb8aa43ff8">upgrade_application_message</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enumeration of message IDs used by Upgrade library when sending messages to the application. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="abca8081d155a70bbaec4f4eb8aa43ff8aa0bfad1e4c764c2e9cd81658350f2d05"></a>UPGRADE_INIT_CFM&#160;</td><td class="fielddoc">
<p>Message sent in response to <a class="el" href="upgrade_8h.html#aec364b8dbc5e46efa566d36a9ee7bb89" title="Initialise the Upgrade library. ">UpgradeInit()</a>. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="abca8081d155a70bbaec4f4eb8aa43ff8a126e0820b77ee3a8b1b6fc52ab76faec"></a>UPGRADE_RESTARTED_IND&#160;</td><td class="fielddoc">
<p>Message sent during initialisation of the upgrade library to let the VM application know that a restart has occurred and reconnection to a host may be required. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="abca8081d155a70bbaec4f4eb8aa43ff8ab1b469ac6df68b4faf8773a59edfcd6b"></a>UPGRADE_APPLY_IND&#160;</td><td class="fielddoc">
<p>Message sent to application to request applying a downloaded upgrade. Note this may include a warm reboot of the device. Application must respond with <a class="el" href="upgrade_8h.html#a63ef8f910494039ea79473e5ec160130" title="Control reboot of device in interactive mode. ">UpgradeApplyResponse()</a> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="abca8081d155a70bbaec4f4eb8aa43ff8a2dc467a743fbdecc9ced48241f481fb4"></a>UPGRADE_BLOCKING_IND&#160;</td><td class="fielddoc">
<p>Message sent to application to request blocking the system for an extended period of time to erase serial flash partitions. Application must respond with <a class="el" href="upgrade_8h.html#a85954f0cfb18ebe7d8c2953b9f4b461d" title="Control blocking of the system in interactive mode. ">UpgradeBlockingResponse()</a> </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="abca8081d155a70bbaec4f4eb8aa43ff8ae6ebacda93ea7d7c3408d20517f67332"></a>UPGRADE_BLOCKING_IS_DONE_IND&#160;</td><td class="fielddoc">
<p>Message sent to application to indicate that blocking operation is finished </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="abca8081d155a70bbaec4f4eb8aa43ff8a63845b901d54abe03cf35c58bb1e4c18"></a>UPGRADE_STATUS_IND&#160;</td><td class="fielddoc">
<p>Message sent to application to inform of the current status of an upgrade. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="abca8081d155a70bbaec4f4eb8aa43ff8af722c3046071de9c902ad753f15496b2"></a>UPGRADE_SHUT_AUDIO&#160;</td><td class="fielddoc">
<p>Message sent to application to request any audio to get shut </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="abca8081d155a70bbaec4f4eb8aa43ff8abcbc59ff803145e8416477eeb7df4b1c"></a>UPRGADE_COPY_AUDIO_IMAGE_OR_SWAP&#160;</td><td class="fielddoc">
<p>Message sent to application set the audio busy flag and copy the audio image to the audio SQIF or Swap to App image in case of audio ROM </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="abca8081d155a70bbaec4f4eb8aa43ff8a95ab0953be37ffa12384923f4e2d1f44"></a>UPGRADE_AUDIO_COPY_FAILURE&#160;</td><td class="fielddoc">
<p>Message sent to application to reset the audio busy flag should the audio image copy fails ensuring a smooth reset to normal </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="abca8081d155a70bbaec4f4eb8aa43ff8a1cf6efa768b56f7f26ca232fda248c16"></a>UPGRADE_START_DATA_IND&#160;</td><td class="fielddoc">
<p>Message sent to application to inform that the actual upgrade has started </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="abca8081d155a70bbaec4f4eb8aa43ff8ad37c714c6458c6b59011877582a8be8c"></a>UPGRADE_END_DATA_IND&#160;</td><td class="fielddoc">
<p>Message sent to application to inform that the actual upgrade has ended </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="abca8081d155a70bbaec4f4eb8aa43ff8a791d75abb7b2ead5a5aa5337c241b76d"></a>UPGRADE_UPSTREAM_MESSAGE_TOP&#160;</td><td class="fielddoc">
<p>ID for first message outside of this range </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="af86630dd732d61e155885863c4f061e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="upgrade_8h.html#af86630dd732d61e155885863c4f061e2">upgrade_end_state_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flags to indicate Upgrade End state while ending the Upgrade download. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="af86630dd732d61e155885863c4f061e2accea8664cf6047838ca3be74409af2dd"></a>upgrade_end_state_none&#160;</td><td class="fielddoc">
<p>The upgrade library is not currently in Abort or Complete of upgrade. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="af86630dd732d61e155885863c4f061e2a8c889a171c321e0b6e683842c022acc8"></a>upgrade_end_state_abort&#160;</td><td class="fielddoc">
<p>The upgrade library is in the process of aborting an upgrade. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="af86630dd732d61e155885863c4f061e2a15f3ec952e455e72d33c6ec77385ada1"></a>upgrade_end_state_complete&#160;</td><td class="fielddoc">
<p>The upgrade library is in the process of Upgrade download complete. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="a4b1354373fa3ef827b9d6968b17b1443"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="upgrade_8h.html#a4b1354373fa3ef827b9d6968b17b1443">UPGRADE_LOGICAL_PARTITION_ARRANGEMENT</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Arrangement of physical flash partitions for a logical flash partition that is managed by this library. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a4b1354373fa3ef827b9d6968b17b1443abb8cf6d57e3ce55b6fa529d95be7c673"></a>UPGRADE_LOGICAL_BANKING_SINGLE_KEEP_ERASED&#160;</td><td class="fielddoc">
<p>Indicates a partition, that is not part of a pair, and that will always be erased after an upgrade completes. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4b1354373fa3ef827b9d6968b17b1443a7e6abf6fef2b5d84efc0f8c18daf6ef1"></a>UPGRADE_LOGICAL_BANKING_SINGLE_DFU&#160;</td><td class="fielddoc">
<p>Partition used for DFU (synonym for <a class="el" href="upgrade_8h.html#a4b1354373fa3ef827b9d6968b17b1443abb8cf6d57e3ce55b6fa529d95be7c673">UPGRADE_LOGICAL_BANKING_SINGLE_KEEP_ERASED</a>) </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4b1354373fa3ef827b9d6968b17b1443a2ff3bb74dd654f5861c98b0380ba6ecc"></a>UPGRADE_LOGICAL_BANKING_DOUBLE_UNMOUNTED&#160;</td><td class="fielddoc">
<p>A partition pair that is not used for a file system. These partitions will be of type raw serial </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4b1354373fa3ef827b9d6968b17b1443a3148d7cac57e30af1fd9598cf3a7c2d1"></a>UPGRADE_LOGICAL_BANKING_DOUBLE_MOUNTED&#160;</td><td class="fielddoc">
<p>A partition pair that is used in a file system. These partitions will be of type read only (although they can be upgraded). Following an upgrade of these partitions the file system table will be updated so that the newly updated partition is active. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4b1354373fa3ef827b9d6968b17b1443af873b72aabd5cbf304b7d676bf329b92"></a>UPGRADE_LOGICAL_BANKING_SINGLE_ERASE_TO_UPDATE&#160;</td><td class="fielddoc">
<p>A partition, that is not part of a pair, and is not kept erased by the upgrade library.</p>
<dl class="section note"><dt>Note</dt><dd>This type of partition is not supported at present. </dd></dl>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="a5c92ea9010911c80c4075b0b70176887"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="upgrade_8h.html#a5c92ea9010911c80c4075b0b70176887">upgrade_peer_app_msg_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enumeration of message IDs sent by application to Upgrade Peer library. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a5c92ea9010911c80c4075b0b70176887aba8629421da71080331bef4c1297155a"></a>UPGRADE_PEER_CONNECT_CFM&#160;</td><td class="fielddoc">
<p>Message sent in reponse to UPGRADE_PEER_CONNECT_REQ/UPGRADE_PEER_RESTARTED_IND. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a5c92ea9010911c80c4075b0b70176887a3ef87aaa7a66db0aa245fba3b9d7ab29"></a>UPGRADE_PEER_DISCONNECT_IND&#160;</td><td class="fielddoc">
<p>Message sent by APP when it noticed link conenction is lost. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a5c92ea9010911c80c4075b0b70176887ad7e802e391e3c7630153b9e261fe7d7f"></a>UPGRADE_PEER_GENERIC_MSG&#160;</td><td class="fielddoc">
<p>Message sent by APP when msg received from peer device. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="a7901e7ca317b0ec1e6709d346a81d66f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="upgrade_8h.html#a7901e7ca317b0ec1e6709d346a81d66f">upgrade_peer_connect_state_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>States which the upgrade peer library may be in. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a7901e7ca317b0ec1e6709d346a81d66fad85a62ee87b97aa49a70b7296479c7e2"></a>UPGRADE_PEER_CONNECT_SUCCESS&#160;</td><td class="fielddoc">
<p>If L2CAP connection is success </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a7901e7ca317b0ec1e6709d346a81d66fa3ace383ead5395f95c1f13c00113bc1d"></a>UPGRADE_PEER_CONNECT_FAILED&#160;</td><td class="fielddoc">
<p>If L2CAP connection is failed </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="abf913f83e6a24a8e9d5e04ac27b43995"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="upgrade_8h.html#abf913f83e6a24a8e9d5e04ac27b43995">upgrade_peer_signal_msg_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enumeration of message IDs used by Upgrade Peer library when sending messages to the application. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="abf913f83e6a24a8e9d5e04ac27b43995a9e29568d0237df60b3d763511418e035"></a>UPGRADE_PEER_INIT_CFM&#160;</td><td class="fielddoc">
<p>Message sent in response to <a class="el" href="upgrade_8h.html#a9e37d1b8435fe9fa9de6fb35fe88ee36" title="Initialise the Upgrade Peer library. ">UpgradePeerInit()</a>. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="abf913f83e6a24a8e9d5e04ac27b43995adbdd60d3d0c852bdd74a1200c79ebdc6"></a>UPGRADE_PEER_STATUS_IND&#160;</td><td class="fielddoc">
<p>Message sent to application to inform of the current status of an upgrade. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="abf913f83e6a24a8e9d5e04ac27b43995a7f79130d98b537f6949df1c47f904005"></a>UPGRADE_PEER_START_DATA_IND&#160;</td><td class="fielddoc">
<p>Message sent to application to inform that the actual upgrade has started </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="abf913f83e6a24a8e9d5e04ac27b43995a6b46f6d2fce5bce4c2e1348abdcbe7bf"></a>UPGRADE_PEER_END_DATA_IND&#160;</td><td class="fielddoc">
<p>Message sent to application to inform that the actual upgrade has ended </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="abf913f83e6a24a8e9d5e04ac27b43995ac17c824e66127b21a9ec26ee66ef9a11"></a>UPGRADE_PEER_CONNECT_REQ&#160;</td><td class="fielddoc">
<p>Message sent to app when upgrade peer link connection is required. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="abf913f83e6a24a8e9d5e04ac27b43995a076f291e9000b06230ff655b3a73879b"></a>UPGRADE_PEER_DISCONNECT_REQ&#160;</td><td class="fielddoc">
<p>Message sent when DFU is aborted or done. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="abf913f83e6a24a8e9d5e04ac27b43995a33bea70ece26b2dec2299e3124735483"></a>UPGRADE_PEER_DATA_IND&#160;</td><td class="fielddoc">
<p>Message sent to a transport to send a data packet to a client. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="abf913f83e6a24a8e9d5e04ac27b43995ad2206abfebf550cdebea38337b287ce2"></a>UPGRADE_PEER_DATA_CFM&#160;</td><td class="fielddoc">
<p>Message sent in response to <a class="el" href="upgrade_8h.html#a7e6e5dcd93dcb19474939f5fb7b32517" title="Pass a data packet from a client to the Upgrade library. ">UpgradeProcessDataRequest()</a>. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="aaac5b24e409e269fdb8e330611d5d99e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="upgrade_8h.html#aaac5b24e409e269fdb8e330611d5d99e">upgrade_permission_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Types of permission that are given to the upgrade library. </p>
<p>A VM application must give permission for the VM upgrade library to both perform upgrade operations in general, and also for specific operations which have the potential to effect system behaviour, such as reboots or pauses due to serial flash erasing. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="aaac5b24e409e269fdb8e330611d5d99ea2057a0e19be6b50e1b446d8bba1b8f45"></a>upgrade_perm_no&#160;</td><td class="fielddoc">
<p>The upgrade library is not permitted to perform upgrade. Note that the upgrade library may reject this if an upgrade is already in progress. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="aaac5b24e409e269fdb8e330611d5d99ea7d44485cbad805ea73f1b820ba692086"></a>upgrade_perm_assume_yes&#160;</td><td class="fielddoc">
<p>Configures the upgrade library to run in an autonomous mode. The library will assume the answer to any decisions point is yes and will automatically act as such, for instance reboots and flash erase operations. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="aaac5b24e409e269fdb8e330611d5d99eae1f05ab99767ab7cff6e98fc9a0a4859"></a>upgrade_perm_always_ask&#160;</td><td class="fielddoc">
<p>Configures the upgrade library to always ask the VM application when decision points are reached. This option requires the VM application to handle additional messages from the upgrade library and responding appropriately or upgrade may not complete successfully. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="abefdb7759810ea490f6e1f78c7989e5b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="upgrade_8h.html#abefdb7759810ea490f6e1f78c7989e5b">upgrade_power_management_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enumeration power management initialization. </p>
<p>There are the possible states of power management. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="abefdb7759810ea490f6e1f78c7989e5baac57a380b709ce065434ffafe25b965f"></a>upgrade_power_management_disabled&#160;</td><td class="fielddoc">
<p>There is no power management in place (e.g. device is not battery powered) </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="abefdb7759810ea490f6e1f78c7989e5baf0725de6183ef7ac4399b27acd8cc7c3"></a>upgrade_battery_powered&#160;</td><td class="fielddoc">
<p>This is the initialized mode when battery powered </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="af7acfcc0e02d33de311a7dfe9829cfad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="upgrade_8h.html#af7acfcc0e02d33de311a7dfe9829cfad">upgrade_power_state_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enumeration power management state. </p>
<p>There are the possible states of power management. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="af7acfcc0e02d33de311a7dfe9829cfada525af91cdf6390a26ddff8f88f6ee7b8"></a>upgrade_battery_ok&#160;</td><td class="fielddoc">
<p>Battery is above the low level threshold and upgrade is allowed. This state is set also when charger is removed and battery is ok </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="af7acfcc0e02d33de311a7dfe9829cfada2fea563568b2ac8117be83df152f1eed"></a>upgrade_battery_low&#160;</td><td class="fielddoc">
<p>Battery is below the low level threshold and upgrade is no longer allowed. This state is set also when charger is removed and battery still hasn't got enough charge </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="af7acfcc0e02d33de311a7dfe9829cfada42950af9f5a0fb4233f17ee02827d2fb"></a>upgrade_charger_connected&#160;</td><td class="fielddoc">
<p>Indicate that battery is charging </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="a08466801879b35c7ddae4bddb3e3e9e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="upgrade_8h.html#a08466801879b35c7ddae4bddb3e3e9e0">upgrade_reconnect_recommendation_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reasons for reconnection. </p>
<p>Gives the reason why the library is asking the application to trigger a host reconnection. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a08466801879b35c7ddae4bddb3e3e9e0adc1095218f0111408b301812baa7039f"></a>upgrade_reconnect_not_required&#160;</td><td class="fielddoc">
<p>reconnection not needed, no upgrade is in progress. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a08466801879b35c7ddae4bddb3e3e9e0a908cd91bf55d2821919ed82f116b40bf"></a>upgrade_reconnect_required_for_confirm&#160;</td><td class="fielddoc">
<p>High priority request for reconnection.</p>
<p>The upgrade is not yet confirmed and host action is required to accept or reject the upgrade </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a08466801879b35c7ddae4bddb3e3e9e0a6ae9da9ac32254101ade6af43f8415ff"></a>upgrade_reconnect_recommended_as_completed&#160;</td><td class="fielddoc">
<p>Low priority request for reconnection.</p>
<p>An upgrade has completed and reconnecting to the host will allow the host to report the success.</p>
<p>The upgrade cannot now be rolled back so reconnection is not mandatory. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a08466801879b35c7ddae4bddb3e3e9e0a1443ebff8e33b953c796cfce3d51486b"></a>upgrade_reconnect_recommended_in_progress&#160;</td><td class="fielddoc">
<p>Optional request for reconnection.</p>
<p>An upgrade was in progress, but had not reached a critical state. The application is best placed to decide if reconnecting to a host is a priority.</p>
<p>For example, a sound bar - with an external power source, might choose to enable connections; a headset on battery power might not - it was probably reset for a reason </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="a3ca74f71fd564593dd716ae4b7b567f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="upgrade_8h.html#a3ca74f71fd564593dd716ae4b7b567f5">upgrade_state_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>States which the upgrade library may be in. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a3ca74f71fd564593dd716ae4b7b567f5abac05453a6990c61bc91273698975aac"></a>upgrade_state_idle&#160;</td><td class="fielddoc">
<p>The upgrade library is not currently downloading or commiting an upgrade. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a3ca74f71fd564593dd716ae4b7b567f5af41033515c0ffa60979cf7d116082b55"></a>upgrade_state_downloading&#160;</td><td class="fielddoc">
<p>The upgrade library is in the process of downloading an upgrade. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a3ca74f71fd564593dd716ae4b7b567f5a5a6ad4645cf151b83cc0f4251d3ee5f3"></a>upgrade_state_commiting&#160;</td><td class="fielddoc">
<p>The upgrade library is in the process of commiting an upgrade. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a3ca74f71fd564593dd716ae4b7b567f5a734bc9be75d7b4d5cd15c7b2f2d83219"></a>upgrade_state_done&#160;</td><td class="fielddoc">
<p>The upgrade library has completed an upgrade. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="afb3e52d5bdfde3eb77f620f5b52c2e4a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="upgrade_8h.html#afb3e52d5bdfde3eb77f620f5b52c2e4a">upgrade_status_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enumeration of status types used by Upgrade library API. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="afb3e52d5bdfde3eb77f620f5b52c2e4aa88c518a488af1521263fcb7dfecc3afc"></a>upgrade_status_success&#160;</td><td class="fielddoc">
<p>Operation succeeded. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="afb3e52d5bdfde3eb77f620f5b52c2e4aa328e99b64fd88537897f0cb1f1d24b71"></a>upgrade_status_unexpected_error&#160;</td><td class="fielddoc">
<p>Operation failed </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="afb3e52d5bdfde3eb77f620f5b52c2e4aa60bb194947b5e0301a0b289a893959d1"></a>upgrade_status_already_connected_warning&#160;</td><td class="fielddoc">
<p>already connected </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="afb3e52d5bdfde3eb77f620f5b52c2e4aac8f4f891942eff5b04b75ce305869e74"></a>upgrade_status_in_progress&#160;</td><td class="fielddoc">
<p>Requested operation failed, an upgrade is in progress </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="afb3e52d5bdfde3eb77f620f5b52c2e4aa841248efbd106f191459fd2856ce0997"></a>upgrade_status_busy&#160;</td><td class="fielddoc">
<p>UNUSED </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="afb3e52d5bdfde3eb77f620f5b52c2e4aa99d684f574261ea10d2a8073560d03ec"></a>upgrade_status_invalid_power_state&#160;</td><td class="fielddoc">
<p>Invalid power management state </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="a0a221dfdae3f8abae8645ae636e94044"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="upgrade_8h.html#a0a221dfdae3f8abae8645ae636e94044">upgrade_transport_message</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enumeration of message IDs used by the Upgrade library when sending messages to the transport task. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a0a221dfdae3f8abae8645ae636e94044a3bb91e6cfeca8dcce82cb2a78dd83d12"></a>UPGRADE_TRANSPORT_CONNECT_CFM&#160;</td><td class="fielddoc">
<p>Message sent in reponse to <a class="el" href="upgrade_8h.html#a5cd29e0a1b37cd7e81722a47bbf880c5" title="Connect a transport to the Upgrade library. ">UpgradeTransportConnectRequest()</a>. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a0a221dfdae3f8abae8645ae636e94044ac72f01268204b9246d4f0b39f662467d"></a>UPGRADE_TRANSPORT_DISCONNECT_CFM&#160;</td><td class="fielddoc">
<p>Message sent in response to <a class="el" href="upgrade_8h.html#a91f2bcad38ebf0c7a1b4744a6f933ed2" title="Disconnect a transport from the Upgrade library. ">UpgradeTransportDisconnectRequest()</a>. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a0a221dfdae3f8abae8645ae636e94044a381862e04eb48776b0b8a9fb48032370"></a>UPGRADE_TRANSPORT_DATA_IND&#160;</td><td class="fielddoc">
<p>Message sent to a transport to send a data packet to a client. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a0a221dfdae3f8abae8645ae636e94044a7109e55b3f87fb65252db77672180fa1"></a>UPGRADE_TRANSPORT_DATA_CFM&#160;</td><td class="fielddoc">
<p>Message sent in response to <a class="el" href="upgrade_8h.html#a7e6e5dcd93dcb19474939f5fb7b32517" title="Pass a data packet from a client to the Upgrade library. ">UpgradeProcessDataRequest()</a>. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a0a221dfdae3f8abae8645ae636e94044a5c2b280183bd6aff7b2e15d50000fc47"></a>UPGRADE_DOWNSTREAM_MESSAGE_TOP&#160;</td><td class="fielddoc">
<p>ID for first message outside of this range </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ad5f154b94c2c3ec8c1b3b5e35dc0c1bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UpgradeApplicationValidationStatus </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>pass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inform the Upgrade library of an application partition validation result. </p>
<p>The validation result of a call to ValidationInitiateExecutablePartition is sent to the main app task in a MESSAGE_EXE_FS_VALIDATION_STATUS message.</p>
<p>The result must be passed on to the Upgrade library via this function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pass</td><td>TRUE if the validation passed, FALSE otherwise. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a49d82a07d5c4737a30f0043367d112c5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UpgradeApplyAudioCopyFailed </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Control unblocking the audio if the audio image fails to copy. </p>
<p>In order to ensure that the audio image can be copied, the audio busy flag is set. Should the audio copy fail for any reason, this message ensures that that the flag is reset so that the system can resume to normal. </p>

</div>
</div>
<a class="anchor" id="a302f35cc3c99966669ab19c51de7e59a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UpgradeApplyAudioShutDown </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Control audio shutdown in order to copy the audio image. </p>
<p>In order to copy the audio image from apps1 to the audio SQIF, all audio must be shut otherwise, the currator will panic and the copy will fail. </p>

</div>
</div>
<a class="anchor" id="a63ef8f910494039ea79473e5ec160130"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UpgradeApplyResponse </td>
          <td>(</td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>postpone</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Control reboot of device in interactive mode. </p>
<p>The upgrade library needs to reboot the device to complete an upgrade. If the VM application configured the library with <a class="el" href="upgrade_8h.html#aaac5b24e409e269fdb8e330611d5d99eae1f05ab99767ab7cff6e98fc9a0a4859">upgrade_perm_always_ask</a>, the application will receive <a class="el" href="upgrade_8h.html#abca8081d155a70bbaec4f4eb8aa43ff8ab1b469ac6df68b4faf8773a59edfcd6b">UPGRADE_APPLY_IND</a> messages when the upgrade library needs to reboot.</p>
<p>If the application configured the library with <a class="el" href="upgrade_8h.html#aaac5b24e409e269fdb8e330611d5d99ea7d44485cbad805ea73f1b820ba692086">upgrade_perm_assume_yes</a>, the application will not receive <a class="el" href="upgrade_8h.html#abca8081d155a70bbaec4f4eb8aa43ff8ab1b469ac6df68b4faf8773a59edfcd6b">UPGRADE_APPLY_IND</a> messages and the upgrade library will automatically reboot when required.</p>
<p>The application must use this API to tell the upgrade library when it can reboot. If the application wants to reboot immediately, it should pass a postpone parameter of 0.</p>
<p>If the application wants to postpone the action it can specify a delay in milliseconds to postpone. The upgrade library will resend the <a class="el" href="upgrade_8h.html#abca8081d155a70bbaec4f4eb8aa43ff8ab1b469ac6df68b4faf8773a59edfcd6b">UPGRADE_APPLY_IND</a> message after that delay has elapsed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">postpone</td><td>Time in milliseconds to postpone. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a85954f0cfb18ebe7d8c2953b9f4b461d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UpgradeBlockingResponse </td>
          <td>(</td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>postpone</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Control blocking of the system in interactive mode. </p>
<p>The upgrade library needs to erase serial flash partitions to complete an upgrade, and possibly at other times to clean up an incomplete upgrade.</p>
<p>Serial flash erase operations are blocking, they block the entire system for the duration of the erase, the period of the block is dependent upon the size of the serial flash partition being erased and the characteristics of the flash part used. Erase operations can disrupt streaming audio.</p>
<p>If the VM application configured the library with <a class="el" href="upgrade_8h.html#aaac5b24e409e269fdb8e330611d5d99eae1f05ab99767ab7cff6e98fc9a0a4859">upgrade_perm_always_ask</a>, the application will receive <a class="el" href="upgrade_8h.html#abca8081d155a70bbaec4f4eb8aa43ff8a2dc467a743fbdecc9ced48241f481fb4">UPGRADE_BLOCKING_IND</a> messages when the upgrade library needs to block the system for partition erase.</p>
<p>If the application configured the library with <a class="el" href="upgrade_8h.html#aaac5b24e409e269fdb8e330611d5d99ea7d44485cbad805ea73f1b820ba692086">upgrade_perm_assume_yes</a>, the application will not receive <a class="el" href="upgrade_8h.html#abca8081d155a70bbaec4f4eb8aa43ff8a2dc467a743fbdecc9ced48241f481fb4">UPGRADE_BLOCKING_IND</a> messages and the upgrade library will automatically erase flash partitions when required.</p>
<p>The application must use this API to tell the upgrade library when it can block the system. If the application wants to block immediately, it should pass a postpone parameter of 0.</p>
<p>If the application wants to postpone the action it can specify a delay in milliseconds to postpone. The upgrade library will resend the <a class="el" href="upgrade_8h.html#abca8081d155a70bbaec4f4eb8aa43ff8ab1b469ac6df68b4faf8773a59edfcd6b">UPGRADE_APPLY_IND</a> message after that delay has elapsed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">postpone</td><td>Time in milliseconds to postpone. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a90403b2de739685986b340104973df73"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UpgradeCommitMsgFromUpgradePeer </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Commit Request from UpgradePeer. </p>
<p>Reurns None </p>

</div>
</div>
<a class="anchor" id="ab238dec05b4631e44f03f15fcab457a1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UpgradeCopyAudioImage </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Control blocking any new audio and makes the call for the audio image copy. </p>
<p>Sets the audio busy flag and calls the function responsible for any trap calls to P0 which handle the audio image copy. </p>

</div>
</div>
<a class="anchor" id="a8f8aeb74c3b3282817de46216988605f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UpgradeCopyAudioStatus </td>
          <td>(</td>
          <td class="paramtype">Message&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inform the Upgrade library of the result an attempt copy Audio SQIF. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>#MESSAGE_IMAGE_UPGRADE_AUDIO_STATUS message containing status of copy operation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac9b09071a6ec28b9a246d2e79b064a28"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UpgradeCopyStatus </td>
          <td>(</td>
          <td class="paramtype">Message&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inform the Upgrade library of the result an attempt copy SQIF. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>#MESSAGE_IMAGE_UPGRADE_COPY_STATUS message containing status of copy operation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3f444b2f45408df14b98867e1b53153c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UpgradeDfuStatus </td>
          <td>(</td>
          <td class="paramtype">MessageDFUFromSQifStatus *&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inform the Upgrade library of the result an attempt to perform DFU from serial flash. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>MESSAGE_DFU_SQIF_STATUS message containing status of DFU operation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae6b52ddf3c947781361f123db9c95c34"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UpgradeEraseStatus </td>
          <td>(</td>
          <td class="paramtype">Message&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inform the Upgrade library of the result an attempt erase SQIF. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>#MESSAGE_IMAGE_UPGRADE_ERASE_STATUS message containing status of erase operation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1326808f875182e968cb05041c6dce9e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UpgradeErrorMsgFromUpgradePeer </td>
          <td>(</td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>error</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle error message from UpgradePeer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">error</td><td>An error code which happens during peer upgrade.</td></tr>
  </table>
  </dd>
</dl>
<p>Reurns None </p>

</div>
</div>
<a class="anchor" id="ae282724d8a3cb39db39637b990e9318d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool UpgradeGetInProgressVersion </td>
          <td>(</td>
          <td class="paramtype">uint16 *&#160;</td>
          <td class="paramname"><em>major</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16 *&#160;</td>
          <td class="paramname"><em>minor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16 *&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the "in progress" version information from the upgrade library. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pointer</td><td>to uint16 major version </td></tr>
    <tr><td class="paramname">pointer</td><td>to uint16 minor version </td></tr>
    <tr><td class="paramname">pointer</td><td>to uint16 config version </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool TRUE if the major, minor and config have been populated, FALSE otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a6caf9855fa2ece36a87725a03a268b52"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16 UpgradeGetPartitionInUse </td>
          <td>(</td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>logicalPartition</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find out current physical partition for a logical partion. </p>
<p>This function uses the array of logical partitions supplied during AppInit as well as the librarys knowledge of the state of partitions to return a reference to the physical partition that is active.</p>
<p>This is most useful for raw serial (RS) partitions as these need to be accessed directly by the application. Read only (RO) partitions are typically mounted as file systems and the appropriate partition will already be active.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">logicalPartition</td><td>Index into the table of <a class="el" href="struct_u_p_g_r_a_d_e___u_p_g_r_a_d_a_b_l_e___p_a_r_t_i_t_i_o_n___t.html" title="Element defining the physical partitions in flash that apply to this logical partition. ">UPGRADE_UPGRADABLE_PARTITION_T</a> supplied during <a class="el" href="upgrade_8h.html#aec364b8dbc5e46efa566d36a9ee7bb89">UpgradeInit</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Definition of physical partition, 0 in case of error. The partition information matches the format used in PSKEY_FSTAB </dd></dl>

</div>
</div>
<a class="anchor" id="a99df3ca1f7ba78a11194f158ffa4f7b5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32 UpgradeGetPartitionSizeInPartitionDataState </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>To fetch the partition size when in UPGRADE_PARTITION_DATA_STATE_DATA. </p>
<p>Returns 32byte size of the partition. </p>

</div>
</div>
<a class="anchor" id="a995e2c5cd2d544472ab2c60e2183ddce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool UpgradeGetVersion </td>
          <td>(</td>
          <td class="paramtype">uint16 *&#160;</td>
          <td class="paramname"><em>major</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16 *&#160;</td>
          <td class="paramname"><em>minor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16 *&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the version information from the upgrade library. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pointer</td><td>to uint16 major version </td></tr>
    <tr><td class="paramname">pointer</td><td>to uint16 minor version </td></tr>
    <tr><td class="paramname">pointer</td><td>to uint16 config version </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool TRUE if the major, minor and config have been populated, FALSE otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a0fede515626ae660a7ac6429e7b3d214"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UpgradeHandleMsg </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MessageId&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Message&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main message handler for the upgrade library. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>Task of the message sender. </td></tr>
    <tr><td class="paramname">id</td><td>Message identifier. </td></tr>
    <tr><td class="paramname">message</td><td>Message contents. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5ccc0ccc77d79bfa0d06338889429388"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UpgradeImageSwap </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>To inform Upgrade library to reset the chip and swap to the Upgraded Image. </p>
<p>Returns None </p>

</div>
</div>
<a class="anchor" id="aec364b8dbc5e46efa566d36a9ee7bb89"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UpgradeInit </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>appTask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>dataPskey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>dataPskeyStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_u_p_g_r_a_d_e___u_p_g_r_a_d_a_b_l_e___p_a_r_t_i_t_i_o_n___t.html">UPGRADE_UPGRADABLE_PARTITION_T</a> *&#160;</td>
          <td class="paramname"><em>logicalPartitions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>numPartitions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="upgrade_8h.html#abefdb7759810ea490f6e1f78c7989e5b">upgrade_power_management_t</a>&#160;</td>
          <td class="paramname"><em>power_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dev_variant</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="upgrade_8h.html#aaac5b24e409e269fdb8e330611d5d99e">upgrade_permission_t</a>&#160;</td>
          <td class="paramname"><em>init_perm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structupgrade__version.html">upgrade_version</a> *&#160;</td>
          <td class="paramname"><em>init_version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>init_config_version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise the Upgrade library. </p>
<p>Must be called before any other Upgrade library API is used. Upgrade library will respond with <a class="el" href="struct_u_p_g_r_a_d_e___i_n_i_t___c_f_m___t.html" title="Definition of the message sent in response to UpgradeInit(). ">UPGRADE_INIT_CFM_T</a> message, the library is only considered initialised if the status field of the <a class="el" href="struct_u_p_g_r_a_d_e___i_n_i_t___c_f_m___t.html" title="Definition of the message sent in response to UpgradeInit(). ">UPGRADE_INIT_CFM_T</a> message is <a class="el" href="upgrade_8h.html#afb3e52d5bdfde3eb77f620f5b52c2e4aa88c518a488af1521263fcb7dfecc3afc">upgrade_status_success</a>.</p>
<p>The initialisation informs the upgrade library of the partitions that may be upgraded. Only partitions referenced here can be upgraded.</p>
<p>If your application uses upgradable raw serial (RS) partitions then you should not make any assumptions about the active partition, instead call the function <a class="el" href="upgrade_8h.html#a6caf9855fa2ece36a87725a03a268b52">UpgradeGetPartitionInUse</a> to retrieve the currently active partition ID.</p>
<p>The upgrade library must be initialised with an "enabled" permission of either <a class="el" href="upgrade_8h.html#aaac5b24e409e269fdb8e330611d5d99ea7d44485cbad805ea73f1b820ba692086">upgrade_perm_assume_yes</a> or <a class="el" href="upgrade_8h.html#aaac5b24e409e269fdb8e330611d5d99eae1f05ab99767ab7cff6e98fc9a0a4859">upgrade_perm_always_ask</a>. If the application wishes to disable upgrades it must call <a class="el" href="upgrade_8h.html#aed19938f426cdd9bc4b6bd21659f4788" title="Specify the type of permission which the upgrade has to perform upgrade operations. ">UpgradePermit()</a> with the <a class="el" href="upgrade_8h.html#aaac5b24e409e269fdb8e330611d5d99ea2057a0e19be6b50e1b446d8bba1b8f45">upgrade_perm_no</a> parameter, after successful initalisation. Note that this may be rejected if an upgrade is already in progress. The upgrade library will send an <a class="el" href="upgrade_8h.html#abca8081d155a70bbaec4f4eb8aa43ff8a63845b901d54abe03cf35c58bb1e4c18">UPGRADE_STATUS_IND</a> message when an in progress upgrade has been completed, after which upgrades may be disabled.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">appTask</td><td>The application task to receive Upgrade library messages. </td></tr>
    <tr><td class="paramname">dataPskey</td><td>Pskey the Upgrade library may use to store data. </td></tr>
    <tr><td class="paramname">dataPskeyStart</td><td>The word offset within the PSKey from which the upgrade may store data. </td></tr>
    <tr><td class="paramname">logicalPartitions</td><td>Pointer to an array defining the partitions that are managed by the upgrade library. The first entry defines logical partition 0 etc. </td></tr>
    <tr><td class="paramname">numPartitions</td><td>Number of logical partitions in the logicalPartitions array </td></tr>
    <tr><td class="paramname">power_mode</td><td>Current power management state </td></tr>
    <tr><td class="paramname">dev_variant</td><td>Name of this device variant. Checked against the variant in the upgrade file header. If NULL, check is ignored. </td></tr>
    <tr><td class="paramname">init_perm</td><td>Initial state of upgrade library permissions. </td></tr>
    <tr><td class="paramname">init_version</td><td>Factory-default upgrade version of this app. Once an upgrade has been done, the upgrade version from the upgrade file header will be used. </td></tr>
    <tr><td class="paramname">init_config_version</td><td>Factory-default PS data config version of this app. Once an upgrade has been done, the PS config version from the upgrade file header will be used. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac68554dea2474dd9f134bf6f06153704"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool UpgradeIsDataTransferMode </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>To check if the upgrade state is in Data transfer mode. </p>
<p>Returns TRUE if the Upgrade state is in Data transfer. </p>

</div>
</div>
<a class="anchor" id="ab6a56d62c9c037cb116148d28afb7369"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool UpgradeIsInitialised </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Query if Upgrade library has been initialised. </p>
<dl class="section return"><dt>Returns</dt><dd>bool TRUE if Upgrade lib has been initialised, FALSE otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a6e05e1a5b765adcda8afe363c0848bbc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool UpgradeIsPartitionDataState </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>To check if the upgrade lib is in UPGRADE_PARTITION_DATA_STATE_DATA. </p>
<p>Returns TRUE if in UPGRADE_PARTITION_DATA_STATE_DATA </p>

</div>
</div>
<a class="anchor" id="a3d1141f9fe996144013c345e8fd4034e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool UpgradeIsRunningNewImage </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get an indication of whether the device has rebooted for an upgrade. </p>
<dl class="section return"><dt>Returns</dt><dd>bool TRUE if the device has successfully rebooted for an upgrade, FALSE otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="aa5488f6db5bb885955cbb7ed83cd7b68"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool UpgradePartialUpdateInterrupted </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get an indication of whether a partial upgrade has been interrupted. </p>
<dl class="section return"><dt>Returns</dt><dd>bool TRUE if a partial upgrade has been interrupted, FALSE otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a9e37d1b8435fe9fa9de6fb35fe88ee36"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UpgradePeerInit </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>appTask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>dataPskey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>dataPskeyStart</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise the Upgrade Peer library. </p>
<p>Must be called before any other Upgrade Peer library API is used. Upgrade Peer library will respond with <a class="el" href="struct_u_p_g_r_a_d_e___i_n_i_t___c_f_m___t.html" title="Definition of the message sent in response to UpgradeInit(). ">UPGRADE_INIT_CFM_T</a> message. with SUCESS .</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">appTask</td><td>The application task to receive Upgrade library messages. </td></tr>
    <tr><td class="paramname">dataPskey</td><td>Pskey the Upgrade peer library may use to store data. </td></tr>
    <tr><td class="paramname">dataPskeyStart</td><td>The word offset within the PSKey from which the upgrade may store data. Returns None </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7a3366bf53375ca20af5a785066237c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool UpgradePeerIsPrimaryDevice </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if this device initiated the DFU . </p>
<p>Returns None </p>

</div>
</div>
<a class="anchor" id="a1fc3347d844d16614f4250c394f081db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UpgradePeerProcessDataRequest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="upgrade_8h.html#a5c92ea9010911c80c4075b0b70176887">upgrade_peer_app_msg_t</a>&#160;</td>
          <td class="paramname"><em>iD</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8 *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>dataSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle data request from APP. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iD</td><td>upgrade_peer_app_msg_t message id </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to data memory which has been received from peer device. </td></tr>
    <tr><td class="paramname">dataSize</td><td>The size of the data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acd8d6a02d3b94ea6f09c71f25532c08a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UpgradePeerSetDeviceRole </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_primary</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Applciation calls this API to declare that device role is primary. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">is_primary</td><td>TRUE if device is primary otherwise FALSE.</td></tr>
  </table>
  </dd>
</dl>
<p>Returns none </p>

</div>
</div>
<a class="anchor" id="a72f67343ee4a883452c9bc5c393331f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UpgradePeerStoreMd5 </td>
          <td>(</td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>md5</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Store MD5 for DFU file for peer device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">md5</td><td>md5 checksum of DFU file. Returns None </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aed19938f426cdd9bc4b6bd21659f4788"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="upgrade_8h.html#afb3e52d5bdfde3eb77f620f5b52c2e4a">upgrade_status_t</a> UpgradePermit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="upgrade_8h.html#aaac5b24e409e269fdb8e330611d5d99e">upgrade_permission_t</a>&#160;</td>
          <td class="paramname"><em>perm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specify the type of permission which the upgrade has to perform upgrade operations. </p>
<p>The default permission is provided by the VM application in <a class="el" href="upgrade_8h.html#aec364b8dbc5e46efa566d36a9ee7bb89" title="Initialise the Upgrade library. ">UpgradeInit()</a>, this must be either <a class="el" href="upgrade_8h.html#aaac5b24e409e269fdb8e330611d5d99ea7d44485cbad805ea73f1b820ba692086">upgrade_perm_assume_yes</a> or <a class="el" href="upgrade_8h.html#aaac5b24e409e269fdb8e330611d5d99eae1f05ab99767ab7cff6e98fc9a0a4859">upgrade_perm_always_ask</a>. The VM application may subsequently use this function to modify the type of permission as required.</p>
<p>The upgrade library may reject an attempt by the VM application to disable upgrades, if an upgrade is already in progress and the platforms does not support the resume feature. If rejected due to an upgrade already in progress, the upgrade library will send a <a class="el" href="upgrade_8h.html#abca8081d155a70bbaec4f4eb8aa43ff8a63845b901d54abe03cf35c58bb1e4c18">UPGRADE_STATUS_IND</a> message to the VM application with a state of upgrade_state_done.</p>
<p>There are two types of enabled permission, "assume yes" and "always ask".</p>
<p>The upgrade library can be enabled in an autonomous mode, using the <a class="el" href="upgrade_8h.html#aaac5b24e409e269fdb8e330611d5d99ea7d44485cbad805ea73f1b820ba692086">upgrade_perm_assume_yes</a> permission type. During operation, the upgrade library will assume the answer at key decision points is yes and continue automatically.</p>
<p>Key decision points are :- Rebooting the device as part of completing an upgrade Blocking the system to erase serial flash partition, may effect audio.</p>
<p>The VM application can participate in these decisions by configuring the upgrade library with <a class="el" href="upgrade_8h.html#aaac5b24e409e269fdb8e330611d5d99eae1f05ab99767ab7cff6e98fc9a0a4859">upgrade_perm_always_ask</a> permission type. In this mode, the upgrade library will send <a class="el" href="upgrade_8h.html#abca8081d155a70bbaec4f4eb8aa43ff8ab1b469ac6df68b4faf8773a59edfcd6b">UPGRADE_APPLY_IND</a> and <a class="el" href="upgrade_8h.html#abca8081d155a70bbaec4f4eb8aa43ff8a2dc467a743fbdecc9ced48241f481fb4">UPGRADE_BLOCKING_IND</a> messages to the VM application. The VM application must reply with <a class="el" href="upgrade_8h.html#a63ef8f910494039ea79473e5ec160130" title="Control reboot of device in interactive mode. ">UpgradeApplyResponse()</a> or <a class="el" href="upgrade_8h.html#a85954f0cfb18ebe7d8c2953b9f4b461d" title="Control blocking of the system in interactive mode. ">UpgradeBlockingResponse()</a> respectively or the upgrade process will not succeed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">perm</td><td><a class="el" href="upgrade_8h.html#aaac5b24e409e269fdb8e330611d5d99ea2057a0e19be6b50e1b446d8bba1b8f45">upgrade_perm_no</a> Disable upgades. <a class="el" href="upgrade_8h.html#aaac5b24e409e269fdb8e330611d5d99ea7d44485cbad805ea73f1b820ba692086">upgrade_perm_assume_yes</a> Enable upgrades, automatic mode. <a class="el" href="upgrade_8h.html#aaac5b24e409e269fdb8e330611d5d99eae1f05ab99767ab7cff6e98fc9a0a4859">upgrade_perm_always_ask</a> Enable upgrades, interactive mode.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>upgrade_status_t <a class="el" href="upgrade_8h.html#afb3e52d5bdfde3eb77f620f5b52c2e4aa88c518a488af1521263fcb7dfecc3afc">upgrade_status_success</a> Requested permission change was accepted. <a class="el" href="upgrade_8h.html#afb3e52d5bdfde3eb77f620f5b52c2e4aac8f4f891942eff5b04b75ce305869e74">upgrade_status_in_progress</a> Requested permission denied. </dd></dl>

</div>
</div>
<a class="anchor" id="a502daf85950dce67003154f8b34265c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="upgrade_8h.html#afb3e52d5bdfde3eb77f620f5b52c2e4a">upgrade_status_t</a> UpgradePowerManagementSetState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="upgrade_8h.html#af7acfcc0e02d33de311a7dfe9829cfad">upgrade_power_state_t</a>&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receives the current state of the power management from the Sink App. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>Current power management state </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7e6e5dcd93dcb19474939f5fb7b32517"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UpgradeProcessDataRequest </td>
          <td>(</td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>size_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8 *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pass a data packet from a client to the Upgrade library. </p>
<p>All data packets from a client should be sent to the Upgrade library via this function. Data packets must be in order but do not need to contain a whole upgrade message.</p>
<p>The Upgrade library will respond by sending UPGRADE_TRANSPORT_DATA_CFM to the Task set in <a class="el" href="upgrade_8h.html#a5cd29e0a1b37cd7e81722a47bbf880c5" title="Connect a transport to the Upgrade library. ">UpgradeTransportConnectRequest()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size_data</td><td>Size of the data packet </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to the data packet </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6ba1f74e821624f30338cb2ba4e5d62c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool UpgradeRunningNewApplication </td>
          <td>(</td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>dataPskey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>dataPskeyStart</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Query the upgrade library to see if we are part way through an upgrade. </p>
<p>This is used by the application during early boot to check if the reason for rebooting is because we have reached the UPGRADE_RESUME_POINT_POST_REBOOT point.</p>
<p>Note: This is only to be called during the early init phase, before UpgradeInit has been called. </p>

</div>
</div>
<a class="anchor" id="ad50b6d9fe0ada1e8ef636fb12b97c45a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UpgradeSendEndUpgradeDataInd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="upgrade_8h.html#af86630dd732d61e155885863c4f061e2">upgrade_end_state_t</a>&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>To inform vm app that downloading of upgrade data from host app has ended. </p>
<p>Returns None </p>

</div>
</div>
<a class="anchor" id="a7ec70bcf69ed62cda002242f7613a5b5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UpgradeSendStartUpgradeDataInd </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>To inform vm app that downloading of upgrade data from host app has begun. </p>
<p>Returns None </p>

</div>
</div>
<a class="anchor" id="ad19bbf1f919499fcfa44820ac01125c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UpgradeSetPartitionDataBlockSize </td>
          <td>(</td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>To set the partition data block size which the upgrade lib could expect from its transport. </p>
<p>Returns None </p>

</div>
</div>
<a class="anchor" id="a5cd29e0a1b37cd7e81722a47bbf880c5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UpgradeTransportConnectRequest </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>transportTask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>need_data_cfm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>request_multiple_blocks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connect a transport to the Upgrade library. </p>
<p>When a client wants to initiate an upgrade, the transport must first connect to the upgrade library so that it knows which Task to use to send messages to a client.</p>
<p>The Upgrade library will respond by sending UPGRADE_TRANSPORT_CONNECT_CFM to transportTask.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transportTask</td><td>The Task used by the transport. </td></tr>
    <tr><td class="paramname">need_data_cfm</td><td>Whether the Task needs UPGRADE_TRANSPORT_DATA_CFM messages. </td></tr>
    <tr><td class="paramname">request_multiple_blocks</td><td>Whether the Task can handle multiple block requests. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a91f2bcad38ebf0c7a1b4744a6f933ed2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UpgradeTransportDisconnectRequest </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disconnect a transport from the Upgrade library. </p>
<p>When a transport no longer needs to use the Upgrade library it must disconnect.</p>
<p>The Upgrade library will respond by sending UPGRADE_TRANSPORT_DISCONNECT_CFM to the Task set in <a class="el" href="upgrade_8h.html#a5cd29e0a1b37cd7e81722a47bbf880c5" title="Connect a transport to the Upgrade library. ">UpgradeTransportConnectRequest()</a>. </p>

</div>
</div>
<a class="anchor" id="a56331143e13abae1d18c6e68eb3e64c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool UpgradeTransportInUse </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Query if Upgrade library has a transport connected. </p>
<dl class="section return"><dt>Returns</dt><dd>bool TRUE if Upgrade lib has a transport connected, FALSE otherwise. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_ca35913f37d1eea9df617edb9d6c1fc4.html">upgrade</a></li><li class="navelem"><a class="el" href="upgrade_8h.html">upgrade.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
