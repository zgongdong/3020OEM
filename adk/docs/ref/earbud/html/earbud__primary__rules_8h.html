<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Earbud Application: earbud_primary_rules.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Earbud Application
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('earbud__primary__rules_8h.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">earbud_primary_rules.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Earbud application rules run when in a Primary earbud role.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_c_o_n_n___r_u_l_e_s___c_o_n_n_e_c_t___p_e_e_r___t.html">CONN_RULES_CONNECT_PEER_T</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definition of <a class="el" href="earbud__primary__rules_8h.html#a4139b52c6de4c065f45b2bc2a6b2e226a3b623fad95695da8dd048bcc7db655c8">CONN_RULES_CONNECT_PEER</a> action message.  <a href="struct_c_o_n_n___r_u_l_e_s___c_o_n_n_e_c_t___p_e_e_r___t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_c_o_n_n___r_u_l_e_s___d_f_u___a_l_l_o_w___t.html">CONN_RULES_DFU_ALLOW_T</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definition of <a class="el" href="earbud__primary__rules_8h.html#a4139b52c6de4c065f45b2bc2a6b2e226a96d385a59682cf9576547004ba74fbd4">CONN_RULES_DFU_ALLOW</a> action message.  <a href="struct_c_o_n_n___r_u_l_e_s___d_f_u___a_l_l_o_w___t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_c_o_n_n___r_u_l_e_s___r_o_l_e___d_e_c_i_s_i_o_n___t.html">CONN_RULES_ROLE_DECISION_T</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definition of <a class="el" href="earbud__primary__rules_8h.html#a4139b52c6de4c065f45b2bc2a6b2e226a1b95d6f540fd84e169ef2a242a21a319">CONN_RULES_ROLE_DECISION</a> message.  <a href="struct_c_o_n_n___r_u_l_e_s___r_o_l_e___d_e_c_i_s_i_o_n___t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_c_o_n_n___r_u_l_e_s___s_c_o___f_o_r_w_a_r_d_i_n_g___c_o_n_t_r_o_l___t.html">CONN_RULES_SCO_FORWARDING_CONTROL_T</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definition of <a class="el" href="earbud__primary__rules_8h.html#a4139b52c6de4c065f45b2bc2a6b2e226a4c670ccb1ae9b799d40e13c1256d2ab5">CONN_RULES_SCO_FORWARDING_CONTROL</a> action message.  <a href="struct_c_o_n_n___r_u_l_e_s___s_c_o___f_o_r_w_a_r_d_i_n_g___c_o_n_t_r_o_l___t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_c_o_n_n___r_u_l_e_s___s_e_l_e_c_t___m_i_c___t.html">CONN_RULES_SELECT_MIC_T</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definition of <a class="el" href="earbud__primary__rules_8h.html#a4139b52c6de4c065f45b2bc2a6b2e226af70178402d035c1df5e10a14281b315a">CONN_RULES_SELECT_MIC</a> action message.  <a href="struct_c_o_n_n___r_u_l_e_s___s_e_l_e_c_t___m_i_c___t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_c_o_n_n___r_u_l_e_s___s_e_t___l_o_c_a_l___a_u_d_i_o___m_i_x___t.html">CONN_RULES_SET_LOCAL_AUDIO_MIX_T</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definition of <a class="el" href="earbud__primary__rules_8h.html#a4139b52c6de4c065f45b2bc2a6b2e226a4f67d3ef3ed87832084f497f04fa8413">CONN_RULES_SET_LOCAL_AUDIO_MIX</a> message.  <a href="struct_c_o_n_n___r_u_l_e_s___s_e_t___l_o_c_a_l___a_u_d_i_o___m_i_x___t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_c_o_n_n___r_u_l_e_s___s_e_t___r_e_m_o_t_e___a_u_d_i_o___m_i_x___t.html">CONN_RULES_SET_REMOTE_AUDIO_MIX_T</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definition of <a class="el" href="earbud__primary__rules_8h.html#a4139b52c6de4c065f45b2bc2a6b2e226a3bec77b23705bc5130d027bf02603292">CONN_RULES_SET_REMOTE_AUDIO_MIX</a> message.  <a href="struct_c_o_n_n___r_u_l_e_s___s_e_t___r_e_m_o_t_e___a_u_d_i_o___m_i_x___t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_primary_rules_task_data.html">PrimaryRulesTaskData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connection Rules task data.  <a href="struct_primary_rules_task_data.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0402ec5c8d85b6e11a7341b1c896aae9"><td class="memItemLeft" align="right" valign="top">rule_events_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="earbud__primary__rules_8h.html#a0402ec5c8d85b6e11a7341b1c896aae9">PrimaryRules_GetEvents</a> (void)</td></tr>
<tr class="memdesc:a0402ec5c8d85b6e11a7341b1c896aae9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get set of active events.  <a href="#a0402ec5c8d85b6e11a7341b1c896aae9">More...</a><br /></td></tr>
<tr class="separator:a0402ec5c8d85b6e11a7341b1c896aae9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13d23f0e628dd0e72a30b6d1607cb40f"><td class="memItemLeft" align="right" valign="top">rule_set_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="earbud__primary__rules_8h.html#a13d23f0e628dd0e72a30b6d1607cb40f">PrimaryRules_GetRuleSet</a> (void)</td></tr>
<tr class="memdesc:a13d23f0e628dd0e72a30b6d1607cb40f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get handle on the primary rule set, in order to directly set/clear events.  <a href="#a13d23f0e628dd0e72a30b6d1607cb40f">More...</a><br /></td></tr>
<tr class="separator:a13d23f0e628dd0e72a30b6d1607cb40f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a52ff806097f95cb5f8015a43d6aa92"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="earbud__primary__rules_8h.html#a3a52ff806097f95cb5f8015a43d6aa92">PrimaryRules_Init</a> (Task init_task)</td></tr>
<tr class="memdesc:a3a52ff806097f95cb5f8015a43d6aa92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise the connection rules module.  <a href="#a3a52ff806097f95cb5f8015a43d6aa92">More...</a><br /></td></tr>
<tr class="separator:a3a52ff806097f95cb5f8015a43d6aa92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11fbc9c0c8291d7bd92fba2ade64c5c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="earbud__primary__rules_8h.html#a11fbc9c0c8291d7bd92fba2ade64c5c7">PrimaryRules_ResetEvent</a> (rule_events_t event)</td></tr>
<tr class="memdesc:a11fbc9c0c8291d7bd92fba2ade64c5c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset/clear an event or events.  <a href="#a11fbc9c0c8291d7bd92fba2ade64c5c7">More...</a><br /></td></tr>
<tr class="separator:a11fbc9c0c8291d7bd92fba2ade64c5c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62f19b56b7348ccc428ad806e42f2edd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="earbud__primary__rules_8h.html#a62f19b56b7348ccc428ad806e42f2edd">PrimaryRules_SetEvent</a> (Task client_task, rule_events_t event_mask)</td></tr>
<tr class="memdesc:a62f19b56b7348ccc428ad806e42f2edd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set an event or events.  <a href="#a62f19b56b7348ccc428ad806e42f2edd">More...</a><br /></td></tr>
<tr class="separator:a62f19b56b7348ccc428ad806e42f2edd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32ba2218f0fcfe1799223595096bf5b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="earbud__primary__rules_8h.html#a32ba2218f0fcfe1799223595096bf5b1">PrimaryRules_SetRuleComplete</a> (MessageId message)</td></tr>
<tr class="memdesc:a32ba2218f0fcfe1799223595096bf5b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark rules as complete from messaage ID.  <a href="#a32ba2218f0fcfe1799223595096bf5b1">More...</a><br /></td></tr>
<tr class="separator:a32ba2218f0fcfe1799223595096bf5b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb751bec1e47727deb4876cd813d8400"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="earbud__primary__rules_8h.html#afb751bec1e47727deb4876cd813d8400">PrimaryRulesSetRuleWithEventComplete</a> (MessageId message, rule_events_t event)</td></tr>
<tr class="memdesc:afb751bec1e47727deb4876cd813d8400"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark rules as complete from message ID and set of events.  <a href="#afb751bec1e47727deb4876cd813d8400">More...</a><br /></td></tr>
<tr class="separator:afb751bec1e47727deb4876cd813d8400"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Earbud application rules run when in a Primary earbud role. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2005 - 2019 Qualcomm Technologies International, Ltd.<br />
 All Rights Reserved.<br />
 Qualcomm Technologies International, Ltd. Confidential and Proprietary. </dd></dl>
<dl class="section version"><dt>Version</dt><dd></dd></dl>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a4139b52c6de4c065f45b2bc2a6b2e226"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="earbud__primary__rules_8h.html#a4139b52c6de4c065f45b2bc2a6b2e226">earbud_primary_rules_messages</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a4139b52c6de4c065f45b2bc2a6b2e226a3766d02cf2ce7bc85ae34cb0ebea1288"></a>CONN_RULES_ENABLE_CONNECTABLE&#160;</td><td class="fielddoc">
<p>Make the device connectable. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4139b52c6de4c065f45b2bc2a6b2e226a4e6a571d88a9eb40e1b1c152539a6c6d"></a>CONN_RULES_DISABLE_CONNECTABLE&#160;</td><td class="fielddoc">
<p>Make the device not connectable. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4139b52c6de4c065f45b2bc2a6b2e226a95a864b1f4fd2a5d19df0dc395b39464"></a>CONN_RULES_SEND_PEER_SYNC&#160;</td><td class="fielddoc">
<p>Use Peer Signalling (AVRCP) to send sync message. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4139b52c6de4c065f45b2bc2a6b2e226aaf23ce881db06a40640e58ea6fda6013"></a>CONN_RULES_PEER_SEND_LINK_KEYS&#160;</td><td class="fielddoc">
<p>Use Peer Signalling (AVRCP) to send link-keys message. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4139b52c6de4c065f45b2bc2a6b2e226a66b59dbc1ef902763c1e8695910bde7c"></a>CONN_RULES_HANDSET_PAIR&#160;</td><td class="fielddoc">
<p>Start handset pairing. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4139b52c6de4c065f45b2bc2a6b2e226a3285e9c3238dfda16c594e9852d39ea2"></a>CONN_RULES_CONNECT_HANDSET&#160;</td><td class="fielddoc">
<p>Connect HFP, A2DP and AVRCP to last connected handset. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4139b52c6de4c065f45b2bc2a6b2e226a22d77b42dc2dd1a0677a14d8b11ad818"></a>CONN_RULES_CONNECT_PEER_HANDSET&#160;</td><td class="fielddoc">
<p>Connect A2DP and AVRCP to handset that peer is connected to (only TWS+). </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4139b52c6de4c065f45b2bc2a6b2e226a3b623fad95695da8dd048bcc7db655c8"></a>CONN_RULES_CONNECT_PEER&#160;</td><td class="fielddoc">
<p>Connect A2DP and AVRCP for audio forwarding to peer earbud. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4139b52c6de4c065f45b2bc2a6b2e226ade6aa9834033131bee1c9b9ad68db150"></a>CONN_RULES_A2DP_TIMEOUT&#160;</td><td class="fielddoc">
<p>Start timer to pause A2DP streaming. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4139b52c6de4c065f45b2bc2a6b2e226a2fbaed5e158ebbbfaf85c8457b6eef01"></a>CONN_RULES_SCO_TIMEOUT&#160;</td><td class="fielddoc">
<p>Start timer to pause A2DP streaming. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4139b52c6de4c065f45b2bc2a6b2e226aa2e611313161c2f8ab45ee822fdfa789"></a>CONN_RULES_LED_ENABLE&#160;</td><td class="fielddoc">
<p>Enable LEDs when out of ear. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4139b52c6de4c065f45b2bc2a6b2e226ab62d4ca09d01c2162e006e8eb1b8562f"></a>CONN_RULES_LED_DISABLE&#160;</td><td class="fielddoc">
<p>Disable LEDs when in ear. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4139b52c6de4c065f45b2bc2a6b2e226a73ed0adb6a2b4ed9b7a760e629f6f4e6"></a>CONN_RULES_DISCONNECT_HANDSET&#160;</td><td class="fielddoc">
<p>Disconnect links to handset and DFU not pending </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4139b52c6de4c065f45b2bc2a6b2e226a156c08ca8d623fdc073f396960b4647d"></a>CONN_RULES_DISCONNECT_PEER&#160;</td><td class="fielddoc">
<p>Disconnect link to peer. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4139b52c6de4c065f45b2bc2a6b2e226a14eb12c38c855db27c464936fcfc51b4"></a>CONN_RULES_ENTER_DFU&#160;</td><td class="fielddoc">
<p>Enter DFU mode as we have entered the case with DFU pending </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4139b52c6de4c065f45b2bc2a6b2e226a96d385a59682cf9576547004ba74fbd4"></a>CONN_RULES_DFU_ALLOW&#160;</td><td class="fielddoc">
<p>Update upgrade state </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4139b52c6de4c065f45b2bc2a6b2e226a5cda471258db6cd434b3a240e3690de2"></a>CONN_RULES_ALLOW_HANDSET_CONNECT&#160;</td><td class="fielddoc">
<p>Allow connections from handset </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4139b52c6de4c065f45b2bc2a6b2e226a018eba27bf42e5ab69bb998b9fe37e4d"></a>CONN_RULES_REJECT_HANDSET_CONNECT&#160;</td><td class="fielddoc">
<p>Reject connections from handset </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4139b52c6de4c065f45b2bc2a6b2e226a11b96998c3299940317b591f9e95941e"></a>CONN_RULES_HANGUP_CALL&#160;</td><td class="fielddoc">
<p>Hangup an active call </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4139b52c6de4c065f45b2bc2a6b2e226ad3fb06c88ab8270e35992025fce0973b"></a>CONN_RULES_ANSWER_CALL&#160;</td><td class="fielddoc">
<p>Answer an incoming call </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4139b52c6de4c065f45b2bc2a6b2e226a1b6f5cb7cc64775625d5a253792a929c"></a>CONN_RULES_SCO_TRANSFER_TO_EARBUD&#160;</td><td class="fielddoc">
<p>Transfer SCO Audio from handset to the earbud </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4139b52c6de4c065f45b2bc2a6b2e226aaef656f22560f1db9bf8c746a5779721"></a>CONN_RULES_SCO_TRANSFER_TO_HANDSET&#160;</td><td class="fielddoc">
<p>Transfer SCO Audio from Earbud to the handset </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4139b52c6de4c065f45b2bc2a6b2e226af70178402d035c1df5e10a14281b315a"></a>CONN_RULES_SELECT_MIC&#160;</td><td class="fielddoc">
<p>Switch microphone to use for voice call. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4139b52c6de4c065f45b2bc2a6b2e226a4c670ccb1ae9b799d40e13c1256d2ab5"></a>CONN_RULES_SCO_FORWARDING_CONTROL&#160;</td><td class="fielddoc">
<p>Control if SCO forwarding is enabled or disabled. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4139b52c6de4c065f45b2bc2a6b2e226a28c088348fd8d0a861afcd474743a8bb"></a>CONN_RULES_ANC_ENABLE&#160;</td><td class="fielddoc">
<p>Enable ANC </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4139b52c6de4c065f45b2bc2a6b2e226a0468f28a8418a7bc913af1d328398db8"></a>CONN_RULES_ANC_DISABLE&#160;</td><td class="fielddoc">
<p>Disable ANC </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4139b52c6de4c065f45b2bc2a6b2e226ad43db3a59a9691c8c90ecbb8c0cda82c"></a>CONN_RULES_ANC_TUNING_START&#160;</td><td class="fielddoc">
<p>Start ANC Tuning </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4139b52c6de4c065f45b2bc2a6b2e226abe626601ec1fe10d0d545dc1e8c5ca75"></a>CONN_RULES_ANC_TUNING_STOP&#160;</td><td class="fielddoc">
<p>Stop ANC Tuning </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4139b52c6de4c065f45b2bc2a6b2e226a1b95d6f540fd84e169ef2a242a21a319"></a>CONN_RULES_ROLE_DECISION&#160;</td><td class="fielddoc">
<p>Set the current Primary or Secondary role </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4139b52c6de4c065f45b2bc2a6b2e226a41a3c7d9977fb729eaa35498921b8a4a"></a>CONN_RULES_A2DP_TIMEOUT_CANCEL&#160;</td><td class="fielddoc">
<p>Cancel running timers for pausing A2DP media </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4139b52c6de4c065f45b2bc2a6b2e226af9f30a50e06514c1eb0ef6e9333dae6a"></a>CONN_RULES_MEDIA_PLAY&#160;</td><td class="fielddoc">
<p>Start playing media </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4139b52c6de4c065f45b2bc2a6b2e226a3bec77b23705bc5130d027bf02603292"></a>CONN_RULES_SET_REMOTE_AUDIO_MIX&#160;</td><td class="fielddoc">
<p>Set the remote audio mix </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4139b52c6de4c065f45b2bc2a6b2e226a4f67d3ef3ed87832084f497f04fa8413"></a>CONN_RULES_SET_LOCAL_AUDIO_MIX&#160;</td><td class="fielddoc">
<p>Set the local audio mix </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4139b52c6de4c065f45b2bc2a6b2e226ad4fcfa9ac5a95548e2e36e211ac9f5be"></a>CONN_RULES_NOTIFY_PEER_MRU_HANDSET&#160;</td><td class="fielddoc">
<p>Notify peer of MRU handset </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4139b52c6de4c065f45b2bc2a6b2e226a6492ea3b7a539df700363b95a4c84b14"></a>CONN_RULES_DFU_ABORT&#160;</td><td class="fielddoc">
<p>Abort DFU </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a4139b52c6de4c065f45b2bc2a6b2e226aa6f484eeabdb6e34400b9acefc748376"></a>CONN_RULES_NOP&#160;</td><td class="fielddoc">
<p>Any rules with RULE_FLAG_PROGRESS_MATTERS are no longer in progress. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="a8d38c1d551c40dd38ad030c7b42c0b04"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="earbud__primary__rules_8h.html#a8d38c1d551c40dd38ad030c7b42c0b04">rulePostHandsetConnectAction</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Actions to take after connecting handset. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a8d38c1d551c40dd38ad030c7b42c0b04a87cfe5dc3c39144b8dae6565cc08f639"></a>RULE_POST_HANDSET_CONNECT_ACTION_NONE&#160;</td><td class="fielddoc">
<p>Do nothing more </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a8d38c1d551c40dd38ad030c7b42c0b04a3e48a68ce31f567d3083ab16ab510ae1"></a>RULE_POST_HANDSET_CONNECT_ACTION_PLAY_MEDIA&#160;</td><td class="fielddoc">
<p>Play media </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a0402ec5c8d85b6e11a7341b1c896aae9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rule_events_t PrimaryRules_GetEvents </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get set of active events. </p>
<dl class="section return"><dt>Returns</dt><dd>The set of active events. </dd></dl>

</div>
</div>
<a class="anchor" id="a13d23f0e628dd0e72a30b6d1607cb40f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rule_set_t PrimaryRules_GetRuleSet </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get handle on the primary rule set, in order to directly set/clear events. </p>
<dl class="section return"><dt>Returns</dt><dd>rule_set_t The primary rule set. </dd></dl>

</div>
</div>
<a class="anchor" id="a3a52ff806097f95cb5f8015a43d6aa92"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool PrimaryRules_Init </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>init_task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise the connection rules module. </p>
<p>Initialise the connection rules module. </p>

</div>
</div>
<a class="anchor" id="a11fbc9c0c8291d7bd92fba2ade64c5c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PrimaryRules_ResetEvent </td>
          <td>(</td>
          <td class="paramtype">rule_events_t&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset/clear an event or events. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">event</td><td>Events to clear This function is called to clear an event or set of events that was previously set. Clear event will reset any rule that was run for event. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a62f19b56b7348ccc428ad806e42f2edd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PrimaryRules_SetEvent </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>client_task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rule_events_t&#160;</td>
          <td class="paramname"><em>event_mask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set an event or events. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">client_task</td><td>The client task to receive rule actions from this event </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">event</td><td>Events to set that will trigger rules to run This function is called to set an event or events that will cause the relevant rules in the rules table to run. Any actions generated will be sent as message to the client_task </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a32ba2218f0fcfe1799223595096bf5b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PrimaryRules_SetRuleComplete </td>
          <td>(</td>
          <td class="paramtype">MessageId&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mark rules as complete from messaage ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">message</td><td>Message ID that rule(s) generated This function is called to mark rules as completed, the message parameter is used to determine which rules can be marked as completed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afb751bec1e47727deb4876cd813d8400"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PrimaryRulesSetRuleWithEventComplete </td>
          <td>(</td>
          <td class="paramtype">MessageId&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rule_events_t&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mark rules as complete from message ID and set of events. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">message</td><td>Message ID that rule(s) generated </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">event</td><td>Event or set of events that trigger the rule(s) This function is called to mark rules as completed, the message and event parameter is used to determine which rules can be marked as completed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="earbud__primary__rules_8h.html">earbud_primary_rules.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
