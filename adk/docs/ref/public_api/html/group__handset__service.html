<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Public API: Handset Service</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Public API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__handset__service.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Handset Service<div class="ingroups"><a class="el" href="group__services.html">Services</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>A service that provides procedures for connecting and managing connections to handset(s).  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:handset__service__sm_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handset__service__sm_8h.html">handset_service_sm.h</a></td></tr>
<tr class="memdesc:handset__service__sm_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handset service state machine. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_h_a_n_d_s_e_t___s_e_r_v_i_c_e___c_o_n_n_e_c_t___c_f_m___t.html">HANDSET_SERVICE_CONNECT_CFM_T</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Confirmation of completed handset connect request.  <a href="struct_h_a_n_d_s_e_t___s_e_r_v_i_c_e___c_o_n_n_e_c_t___c_f_m___t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_h_a_n_d_s_e_t___s_e_r_v_i_c_e___c_o_n_n_e_c_t_e_d___i_n_d___t.html">HANDSET_SERVICE_CONNECTED_IND_T</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notification that a handset has connected.  <a href="struct_h_a_n_d_s_e_t___s_e_r_v_i_c_e___c_o_n_n_e_c_t_e_d___i_n_d___t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_h_a_n_d_s_e_t___s_e_r_v_i_c_e___d_i_s_c_o_n_n_e_c_t_e_d___i_n_d___t.html">HANDSET_SERVICE_DISCONNECTED_IND_T</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notification that a handset has disconnected.  <a href="struct_h_a_n_d_s_e_t___s_e_r_v_i_c_e___d_i_s_c_o_n_n_e_c_t_e_d___i_n_d___t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga818eb237fb268b8f4b7e94235d273638"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="struct_h_a_n_d_s_e_t___s_e_r_v_i_c_e___c_o_n_n_e_c_t___c_f_m___t.html">HANDSET_SERVICE_CONNECT_CFM_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__handset__service.html#ga818eb237fb268b8f4b7e94235d273638">HANDSET_SERVICE_CONNECT_STOP_CFM_T</a></td></tr>
<tr class="memdesc:ga818eb237fb268b8f4b7e94235d273638"><td class="mdescLeft">&#160;</td><td class="mdescRight">Confirmation of completed handset cancel connect request.  <a href="#ga818eb237fb268b8f4b7e94235d273638">More...</a><br /></td></tr>
<tr class="separator:ga818eb237fb268b8f4b7e94235d273638"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga66510f65469a7e77088c2ef6647d224c"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="struct_h_a_n_d_s_e_t___s_e_r_v_i_c_e___c_o_n_n_e_c_t___c_f_m___t.html">HANDSET_SERVICE_CONNECT_CFM_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__handset__service.html#ga66510f65469a7e77088c2ef6647d224c">HANDSET_SERVICE_DISCONNECT_CFM_T</a></td></tr>
<tr class="memdesc:ga66510f65469a7e77088c2ef6647d224c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Confirmation of completed handset disconnect request.  <a href="#ga66510f65469a7e77088c2ef6647d224c">More...</a><br /></td></tr>
<tr class="separator:ga66510f65469a7e77088c2ef6647d224c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gad3390a47e53ec6072d2a43d3acc8c509"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__handset__service.html#gad3390a47e53ec6072d2a43d3acc8c509">HandsetService_CancelConnectableRequest</a> (Task task)</td></tr>
<tr class="memdesc:gad3390a47e53ec6072d2a43d3acc8c509"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel all requests to make the local device connectable.  <a href="#gad3390a47e53ec6072d2a43d3acc8c509">More...</a><br /></td></tr>
<tr class="separator:gad3390a47e53ec6072d2a43d3acc8c509"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6855ab5094e5e366ec2e05ca01a25b06"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__handset__service.html#ga6855ab5094e5e366ec2e05ca01a25b06">HandsetService_ClientRegister</a> (Task client_task)</td></tr>
<tr class="memdesc:ga6855ab5094e5e366ec2e05ca01a25b06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a Task to receive notifications from handset_service.  <a href="#ga6855ab5094e5e366ec2e05ca01a25b06">More...</a><br /></td></tr>
<tr class="separator:ga6855ab5094e5e366ec2e05ca01a25b06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa1361c217d4aea3548ad69b51b5f0ffb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__handset__service.html#gaa1361c217d4aea3548ad69b51b5f0ffb">HandsetService_ClientUnregister</a> (Task client_task)</td></tr>
<tr class="memdesc:gaa1361c217d4aea3548ad69b51b5f0ffb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Un-register a Task that is receiving notifications from handset_service.  <a href="#gaa1361c217d4aea3548ad69b51b5f0ffb">More...</a><br /></td></tr>
<tr class="separator:gaa1361c217d4aea3548ad69b51b5f0ffb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1bd844c6fc617075d67a0d3c4567886d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__handset__service.html#ga1bd844c6fc617075d67a0d3c4567886d">HandsetService_ConnectableRequest</a> (Task task)</td></tr>
<tr class="memdesc:ga1bd844c6fc617075d67a0d3c4567886d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make the local device connectable.  <a href="#ga1bd844c6fc617075d67a0d3c4567886d">More...</a><br /></td></tr>
<tr class="separator:ga1bd844c6fc617075d67a0d3c4567886d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab61c439ec382b996e59b2b7955de98b6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__handset__service.html#gab61c439ec382b996e59b2b7955de98b6">HandsetService_ConnectAddressRequest</a> (Task task, const bdaddr *addr, uint8 profiles)</td></tr>
<tr class="memdesc:gab61c439ec382b996e59b2b7955de98b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect to a handset specified by a bdaddr.  <a href="#gab61c439ec382b996e59b2b7955de98b6">More...</a><br /></td></tr>
<tr class="separator:gab61c439ec382b996e59b2b7955de98b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0f73c0fd6269be49ca492c2648a504d5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__handset__service.html#ga0f73c0fd6269be49ca492c2648a504d5">HandsetService_ConnectMruRequest</a> (Task task, uint8 profiles)</td></tr>
<tr class="memdesc:ga0f73c0fd6269be49ca492c2648a504d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect to the most recently used (MRU) handset.  <a href="#ga0f73c0fd6269be49ca492c2648a504d5">More...</a><br /></td></tr>
<tr class="separator:ga0f73c0fd6269be49ca492c2648a504d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafa1a698ea3799c3c069660e71712be49"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__handset__service.html#gafa1a698ea3799c3c069660e71712be49">HandsetService_DisconnectRequest</a> (Task task, const bdaddr *addr)</td></tr>
<tr class="memdesc:gafa1a698ea3799c3c069660e71712be49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnect a handset with the given bdaddr.  <a href="#gafa1a698ea3799c3c069660e71712be49">More...</a><br /></td></tr>
<tr class="separator:gafa1a698ea3799c3c069660e71712be49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9900bdcdffd47b2707c84b6a585314e3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__handset__service.html#ga9900bdcdffd47b2707c84b6a585314e3">HandsetService_Init</a> (Task task)</td></tr>
<tr class="memdesc:ga9900bdcdffd47b2707c84b6a585314e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise the handset_service module.  <a href="#ga9900bdcdffd47b2707c84b6a585314e3">More...</a><br /></td></tr>
<tr class="separator:ga9900bdcdffd47b2707c84b6a585314e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad8ae089bbcc4f3517007cddb4db4b585"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__handset__service.html#gad8ae089bbcc4f3517007cddb4db4b585">HandsetService_StopConnect</a> (Task task, const bdaddr *addr)</td></tr>
<tr class="memdesc:gad8ae089bbcc4f3517007cddb4db4b585"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the ACL connection to a handset.  <a href="#gad8ae089bbcc4f3517007cddb4db4b585">More...</a><br /></td></tr>
<tr class="separator:gad8ae089bbcc4f3517007cddb4db4b585"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>A service that provides procedures for connecting and managing connections to handset(s). </p>
<h1>Overview</h1>
<p>This service is mainly concerned with managing the connection to a handset. That includes both remote (initiated by the handset) and local (initiated by a call to one of the connect APIs) connections.</p>
<h2>Remote Connections</h2>
<p>Remote connections will be detected by this handset service and notified to any clients that have registered for notifications.</p>
<p>For the handset to initiate a connection the local device must first be connectable - there are functions in this service to control whether the local device is connectable or not.</p>
<h2>Local Connections</h2>
<p>There are functions to request the connection or disconnection of a handset and these also include the list of profiles to connect to the handset. This service will manage the connect or disconnect procedure until it is completed. When it is complete the client Task that made the request will be sent a matching CFM message containing the result.</p>
<p>Both connect and disconnect procedures can be cancelled while they are still in progress by making the opposite request. For example, connect will be cancelled if a disconnect request is made while it is progress, and vice versa for disconnect.</p>
<h2>Connection Status</h2>
<p>If the connection status changes for any reason, e.g. link-loss or the handset has initiated a disconnect, it will be notified to any clients that have registered for notifications. </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga818eb237fb268b8f4b7e94235d273638"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="struct_h_a_n_d_s_e_t___s_e_r_v_i_c_e___c_o_n_n_e_c_t___c_f_m___t.html">HANDSET_SERVICE_CONNECT_CFM_T</a> <a class="el" href="group__handset__service.html#ga818eb237fb268b8f4b7e94235d273638">HANDSET_SERVICE_CONNECT_STOP_CFM_T</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/common/services/handset/handset_service.h&gt;</code></p>

<p>Confirmation of completed handset cancel connect request. </p>
<p>This message is sent once handset service has cancelled the ACL connection to the handset, or otherwise when the connect has completed normally. </p>

</div>
</div>
<a class="anchor" id="ga66510f65469a7e77088c2ef6647d224c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="struct_h_a_n_d_s_e_t___s_e_r_v_i_c_e___c_o_n_n_e_c_t___c_f_m___t.html">HANDSET_SERVICE_CONNECT_CFM_T</a> <a class="el" href="group__handset__service.html#ga66510f65469a7e77088c2ef6647d224c">HANDSET_SERVICE_DISCONNECT_CFM_T</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/common/services/handset/handset_service.h&gt;</code></p>

<p>Confirmation of completed handset disconnect request. </p>
<p>This message is sent once handset service has completed the disconnect, or it has been cancelled.</p>
<p>The request could have completed successfully or it could have been cancelled by a later connect request. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga12de9b821848655c87ebc157a639f6cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__handset__service.html#ga12de9b821848655c87ebc157a639f6cd">handset_service_msg_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/common/services/handset/handset_service.h&gt;</code></p>

<p>Events sent by handset to other modules. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga12de9b821848655c87ebc157a639f6cda526bd115ce4638f448fa5b93bcb386ca"></a>HANDSET_INIT_CFM&#160;</td><td class="fielddoc">
<p>Module initialisation complete </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga12de9b821848655c87ebc157a639f6cda719fc5a02cbc1b0ebfc81e69a019eb99"></a>HANDSET_SERVICE_CONNECTED_IND&#160;</td><td class="fielddoc">
<p>A handset has initiated a connection. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga12de9b821848655c87ebc157a639f6cda9d5c60fcb65b69b8dbe5ffc1dfa24690"></a>HANDSET_SERVICE_DISCONNECTED_IND&#160;</td><td class="fielddoc">
<p>A handset has disconnected. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga12de9b821848655c87ebc157a639f6cdacf3df3e572de14bbc5d80200387f6fee"></a>HANDSET_SERVICE_CONNECT_CFM&#160;</td><td class="fielddoc">
<p>Confirmation of completion of a connect request. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga12de9b821848655c87ebc157a639f6cda8ae04dd61e5b378f956896bd98952bb3"></a>HANDSET_SERVICE_DISCONNECT_CFM&#160;</td><td class="fielddoc">
<p>Confirmation of completion of a disconnect request. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga12de9b821848655c87ebc157a639f6cdad433f436338d905010daaab594d8d77c"></a>HANDSET_SERVICE_CONNECT_STOP_CFM&#160;</td><td class="fielddoc">
<p>Confirmation of completion of a cancel connect request. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gad3390a47e53ec6072d2a43d3acc8c509"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HandsetService_CancelConnectableRequest </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/common/services/handset/handset_service.h&gt;</code></p>

<p>Cancel all requests to make the local device connectable. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>Task the CFM will be sent to when the request is completed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga6855ab5094e5e366ec2e05ca01a25b06"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HandsetService_ClientRegister </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>client_task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/common/services/handset/handset_service.h&gt;</code></p>

<p>Register a Task to receive notifications from handset_service. </p>
<p>Once registered, #client_task will receive #handset_msg_t messages.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client_task</td><td>Task to register to receive handset_service notifications. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaa1361c217d4aea3548ad69b51b5f0ffb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HandsetService_ClientUnregister </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>client_task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/common/services/handset/handset_service.h&gt;</code></p>

<p>Un-register a Task that is receiving notifications from handset_service. </p>
<p>If the task is not currently registered then nothing will be changed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client_task</td><td>Task to un-register from handet_service notifications. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga1bd844c6fc617075d67a0d3c4567886d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HandsetService_ConnectableRequest </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/common/services/handset/handset_service.h&gt;</code></p>

<p>Make the local device connectable. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>Task the CFM will be sent to when the request is completed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gab61c439ec382b996e59b2b7955de98b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HandsetService_ConnectAddressRequest </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bdaddr *&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>profiles</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/common/services/handset/handset_service.h&gt;</code></p>

<p>Connect to a handset specified by a bdaddr. </p>
<p>Start the connection procedure for a handset with the given address.</p>
<p>The connection procedure will be cancelled if <a class="el" href="group__handset__service.html#gafa1a698ea3799c3c069660e71712be49" title="Disconnect a handset with the given bdaddr. ">HandsetService_DisconnectRequest</a> is called while it is still in progress.</p>
<p>When the request completes, for whatever reason, the result is sent to the client #task in a HANDSET_SERVICE_CONNECT_CFM.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>Task the CFM will be sent to when the request is completed. </td></tr>
    <tr><td class="paramname">addr</td><td>Address of the handset to connect to. </td></tr>
    <tr><td class="paramname">profiles</td><td>Profiles to connect. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga0f73c0fd6269be49ca492c2648a504d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HandsetService_ConnectMruRequest </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>profiles</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/common/services/handset/handset_service.h&gt;</code></p>

<p>Connect to the most recently used (MRU) handset. </p>
<p>Start the connection procedure for the most recently used (MRU) handset. The BT device module is queried to get the MRU handset.</p>
<p>The connection procedure will be cancelled if <a class="el" href="group__handset__service.html#gafa1a698ea3799c3c069660e71712be49" title="Disconnect a handset with the given bdaddr. ">HandsetService_DisconnectRequest</a> is called while it is still in progress.</p>
<p>When the request completes, for whatever reason, the result is sent to the client #task in a HANDSET_SERVICE_CONNECT_CFM.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>Task that the CFM is sent to when the request is completed. </td></tr>
    <tr><td class="paramname">profiles</td><td>Profiles to connect. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gafa1a698ea3799c3c069660e71712be49"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HandsetService_DisconnectRequest </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bdaddr *&#160;</td>
          <td class="paramname"><em>addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/common/services/handset/handset_service.h&gt;</code></p>

<p>Disconnect a handset with the given bdaddr. </p>
<p>Start the disconnection procedure for a handset with the given address.</p>
<p>The disconenction procedure will be cancelled if one of the connect request functions are called for the same handset.</p>
<p>When the request completes, for whatever reason, the result is sent to the client #task in a HANDSET_SERVICE_DISCONNECT_CFM.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>Task the CFM will be sent to when the request is completed. </td></tr>
    <tr><td class="paramname">addr</td><td>Address of the handset to disconnect. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga9900bdcdffd47b2707c84b6a585314e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool HandsetService_Init </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/common/services/handset/handset_service.h&gt;</code></p>

<p>Initialise the handset_service module. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The init task to send HANDSET_SERVICE_INIT_CFM to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if initialisation is in progress; FALSE if it failed. </dd></dl>

</div>
</div>
<a class="anchor" id="gad8ae089bbcc4f3517007cddb4db4b585"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HandsetService_StopConnect </td>
          <td>(</td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bdaddr *&#160;</td>
          <td class="paramname"><em>addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;adk/src/common/services/handset/handset_service.h&gt;</code></p>

<p>Stop the ACL connection to a handset. </p>
<p>Cancel any in-progress connect to a handset if, and only if, the ACL has not been connected yet.</p>
<p>If the ACL has been connected or the profiles have started to be connected then wait until the connection has completed normally.</p>
<p>When the connection has either been cancelled or has completed, send a <a class="el" href="group__handset__service.html#gga12de9b821848655c87ebc157a639f6cdad433f436338d905010daaab594d8d77c">HANDSET_SERVICE_CONNECT_STOP_CFM</a> to the client task.</p>
<p>If the original connect request completed successfully the status in <a class="el" href="group__handset__service.html#gga12de9b821848655c87ebc157a639f6cdad433f436338d905010daaab594d8d77c">HANDSET_SERVICE_CONNECT_STOP_CFM</a> will be handset_service_status_connected; otherwise it will be handset_service_status_disconnected.</p>
<p>If the same client that requested a handset connect calls this function, <a class="el" href="group__handset__service.html#gga12de9b821848655c87ebc157a639f6cdad433f436338d905010daaab594d8d77c">HANDSET_SERVICE_CONNECT_STOP_CFM</a> will be sent before the <a class="el" href="group__handset__service.html#gga12de9b821848655c87ebc157a639f6cdacf3df3e572de14bbc5d80200387f6fee">HANDSET_SERVICE_CONNECT_CFM</a> for the original connect request.</p>
<p>Note: Currently only one stop request at a time is supported. If a second request is made while one is in progress this function will panic.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>Client task requesting the stop </td></tr>
    <tr><td class="paramname">addr</td><td>Public address of the handset to stop the connection for. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
